---
title: 选择数据存储技术
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.openlocfilehash: 0aac064f30c384520a27d2e42b21c9243d5914b2
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/20/2019
ms.locfileid: "58244038"
---
# <a name="choosing-a-big-data-storage-technology-in-azure"></a><span data-ttu-id="3bfbd-102">在 Azure 中选择大数据存储技术</span><span class="sxs-lookup"><span data-stu-id="3bfbd-102">Choosing a big data storage technology in Azure</span></span>

<span data-ttu-id="3bfbd-103">本主题将大数据解决方案的数据存储选项进行比较 &mdash; 具体而言，将用于批量数据引入和批处理的数据存储，与用于[分析数据存储](./analytical-data-stores.md)或[实时流引入](./real-time-ingestion.md)的数据存储进行比较。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-103">This topic compares options for data storage for big data solutions &mdash; specifically, data storage for bulk data ingestion and batch processing, as opposed to [analytical data stores](./analytical-data-stores.md) or [real-time streaming ingestion](./real-time-ingestion.md).</span></span>

<!-- markdownlint-disable MD026 -->

## <a name="what-are-your-options-when-choosing-data-storage-in-azure"></a><span data-ttu-id="3bfbd-104">在 Azure 中选择数据存储时有哪些选项？</span><span class="sxs-lookup"><span data-stu-id="3bfbd-104">What are your options when choosing data storage in Azure?</span></span>

<!-- markdownlint-enable MD026 -->

<span data-ttu-id="3bfbd-105">可以根据需要，使用多个选项将数据引入 Azure。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-105">There are several options for ingesting data into Azure, depending on your needs.</span></span>

<span data-ttu-id="3bfbd-106">**文件存储：**</span><span class="sxs-lookup"><span data-stu-id="3bfbd-106">**File storage:**</span></span>

- [<span data-ttu-id="3bfbd-107">Azure 存储 Blob</span><span class="sxs-lookup"><span data-stu-id="3bfbd-107">Azure Storage blobs</span></span>](/azure/storage/blobs/storage-blobs-introduction)
- [<span data-ttu-id="3bfbd-108">Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="3bfbd-108">Azure Data Lake Store</span></span>](/azure/data-lake-store/)

<span data-ttu-id="3bfbd-109">**NoSQL 数据库：**</span><span class="sxs-lookup"><span data-stu-id="3bfbd-109">**NoSQL databases:**</span></span>

- [<span data-ttu-id="3bfbd-110">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="3bfbd-110">Azure Cosmos DB</span></span>](/azure/cosmos-db/)
- [<span data-ttu-id="3bfbd-111">HDInsight 上的 HBase</span><span class="sxs-lookup"><span data-stu-id="3bfbd-111">HBase on HDInsight</span></span>](https://hbase.apache.org/)

## <a name="azure-storage-blobs"></a><span data-ttu-id="3bfbd-112">Azure 存储 Blob</span><span class="sxs-lookup"><span data-stu-id="3bfbd-112">Azure Storage blobs</span></span>

<span data-ttu-id="3bfbd-113">Azure 存储是高度可用、安全、持久、可缩放和冗余的托管存储服务。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-113">Azure Storage is a managed storage service that is highly available, secure, durable, scalable, and redundant.</span></span> <span data-ttu-id="3bfbd-114">Microsoft 为你负责维护并处理关键问题。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-114">Microsoft takes care of maintenance and handles critical problems for you.</span></span> <span data-ttu-id="3bfbd-115">Azure 存储是 Azure 提供的最普及的存储解决方案，可配合大量的服务和工具使用。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-115">Azure Storage is the most ubiquitous storage solution Azure provides, due to the number of services and tools that can be used with it.</span></span>

<span data-ttu-id="3bfbd-116">可以使用各种 Azure 存储服务来存储数据。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-116">There are various Azure Storage services you can use to store data.</span></span> <span data-ttu-id="3bfbd-117">存储许多数据源中的 Blob 的最灵活选项是 [Blob 存储](/azure/storage/blobs/storage-blobs-introduction)。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-117">The most flexible option for storing blobs from a number of data sources is [Blob storage](/azure/storage/blobs/storage-blobs-introduction).</span></span> <span data-ttu-id="3bfbd-118">Blob 本质上是文件。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-118">Blobs are basically files.</span></span> <span data-ttu-id="3bfbd-119">它们可以存储图片、文档、HTML 文件、虚拟硬盘 (VHD)、大数据（例如日志）、数据库备份 &mdash; 几乎包括任何内容。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-119">They store pictures, documents, HTML files, virtual hard disks (VHDs), big data such as logs, database backups &mdash; pretty much anything.</span></span> <span data-ttu-id="3bfbd-120">Blob 存储在类似于文件夹的容器中。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-120">Blobs are stored in containers, which are similar to folders.</span></span> <span data-ttu-id="3bfbd-121">一个容器包含一组 Blob 集。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-121">A container provides a grouping of a set of blobs.</span></span> <span data-ttu-id="3bfbd-122">一个存储帐户可以包含无限数量的容器，一个容器可以存储无限数量的 Blob。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-122">A storage account can contain an unlimited number of containers, and a container can store an unlimited number of blobs.</span></span>

<span data-ttu-id="3bfbd-123">因为灵活、高度可用且成本低廉，Azure 存储非常适合大数据和分析解决方案。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-123">Azure Storage is a good choice for big data and analytics solutions, because of its flexibility, high availability, and low cost.</span></span> <span data-ttu-id="3bfbd-124">它为不同的用例提供热、冷和存档存储层。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-124">It provides hot, cool, and archive storage tiers for different use cases.</span></span> <span data-ttu-id="3bfbd-125">有关详细信息，请参阅 [Azure Blob 存储：热、冷、存档存储层](/azure/storage/blobs/storage-blob-storage-tiers)。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-125">For more information, see [Azure Blob Storage: Hot, cool, and archive storage tiers](/azure/storage/blobs/storage-blob-storage-tiers).</span></span>

<span data-ttu-id="3bfbd-126">可以从 Hadoop（HDInsight 已随附）访问 Azure Blob 存储。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-126">Azure Blob storage can be accessed from Hadoop (available through HDInsight).</span></span> <span data-ttu-id="3bfbd-127">HDInsight 可将 Azure 存储中的 Blob 容器用作群集的默认文件系统。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-127">HDInsight can use a blob container in Azure Storage as the default file system for the cluster.</span></span> <span data-ttu-id="3bfbd-128">通过 WASB 驱动程序提供的 Hadoop 分布式的文件系统 (HDFS) 接口，可以针对作为 Blob 存储的结构化或非结构化数据直接运行 HDInsight 中的整套组件。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-128">Through a Hadoop distributed file system (HDFS) interface provided by a WASB driver, the full set of components in HDInsight can operate directly on structured or unstructured data stored as blobs.</span></span> <span data-ttu-id="3bfbd-129">此外，可以使用 Azure SQL 数据仓库的 PolyBase 功能访问 Azure Blob 存储。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-129">Azure Blob storage can also be accessed via Azure SQL Data Warehouse using its PolyBase feature.</span></span>

<span data-ttu-id="3bfbd-130">使 Azure 存储成为不错选项的其他功能包括：</span><span class="sxs-lookup"><span data-stu-id="3bfbd-130">Other features that make Azure Storage a good choice are:</span></span>

- <span data-ttu-id="3bfbd-131">[多个并发策略](/azure/storage/common/storage-concurrency?toc=%2fazure%2fstorage%2fblobs%2ftoc.json)。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-131">[Multiple concurrency strategies](/azure/storage/common/storage-concurrency?toc=%2fazure%2fstorage%2fblobs%2ftoc.json).</span></span>
- <span data-ttu-id="3bfbd-132">[灾难恢复和高可用性选项](/azure/storage/common/storage-disaster-recovery-guidance?toc=%2fazure%2fstorage%2fblobs%2ftoc.json)。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-132">[Disaster recovery and high availability options](/azure/storage/common/storage-disaster-recovery-guidance?toc=%2fazure%2fstorage%2fblobs%2ftoc.json).</span></span>
- <span data-ttu-id="3bfbd-133">[静态加密](/azure/storage/common/storage-service-encryption?toc=%2fazure%2fstorage%2fblobs%2ftoc.json)。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-133">[Encryption at rest](/azure/storage/common/storage-service-encryption?toc=%2fazure%2fstorage%2fblobs%2ftoc.json).</span></span>
- <span data-ttu-id="3bfbd-134">[基于角色的访问控制 (RBAC)](/azure/storage/common/storage-security-guide?toc=%2fazure%2fstorage%2fblobs%2ftoc.json#management-plane-security)，使用 Azure Active Directory 用户和组控制访问。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-134">[Role-Based Access Control (RBAC)](/azure/storage/common/storage-security-guide?toc=%2fazure%2fstorage%2fblobs%2ftoc.json#management-plane-security) to control access using Azure Active Directory users and groups.</span></span>

## <a name="azure-data-lake-store"></a><span data-ttu-id="3bfbd-135">Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="3bfbd-135">Azure Data Lake Store</span></span>

<span data-ttu-id="3bfbd-136">[Azure Data Lake Store](/azure/data-lake-store/) 是一个企业范围的超大规模存储库，适用于大数据分析工作负荷。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-136">[Azure Data Lake Store](/azure/data-lake-store/) is an enterprise-wide hyper-scale repository for big data analytic workloads.</span></span> <span data-ttu-id="3bfbd-137">使用 Data Lake 可以在单个[安全](/azure/data-lake-store/data-lake-store-overview#DataLakeStoreSecurity)位置捕获任何大小、类型和引入速度的数据进行操作和探索分析。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-137">Data Lake enables you to capture data of any size, type, and ingestion speed in one single [secure](/azure/data-lake-store/data-lake-store-overview#DataLakeStoreSecurity) location for operational and exploratory analytics.</span></span>

<span data-ttu-id="3bfbd-138">Data Lake Store 不对帐户大小、文件大小或 Data Lake 中可存储的数据量施加任何限制。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-138">Data Lake Store does not impose any limits on account sizes, file sizes, or the amount of data that can be stored in a data lake.</span></span> <span data-ttu-id="3bfbd-139">通过创建多个副本来长期存储数据，数据在 Data Lake 中的存储持续时间没有限制。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-139">Data is stored durably by making multiple copies and there is no limit on the duration of time that the data can be stored in the Data Lake.</span></span> <span data-ttu-id="3bfbd-140">除了创建文件的多个副本来防范任何意外的故障以外，Data Lake 还会在大量独立存储服务器之间分布文件的各个部分。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-140">In addition to making multiple copies of files to guard against any unexpected failures, Data lake spreads parts of a file over a number of individual storage servers.</span></span> <span data-ttu-id="3bfbd-141">这可改善执行数据分析时并行读取文件的吞吐量。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-141">This improves the read throughput when reading the file in parallel for performing data analytics.</span></span>

<span data-ttu-id="3bfbd-142">使用与 WebHDFS 兼容的 REST API，可以从 Hadoop（HDInsight 已随附）访问 Data Lake Store。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-142">Data Lake Store can be accessed from Hadoop (available through HDInsight) using the WebHDFS-compatible REST APIs.</span></span> <span data-ttu-id="3bfbd-143">如果单个文件的大小或总文件大小超过了 Azure 存储支持的限制，可以考虑使用此技术来代替 Azure 存储。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-143">You may consider using this as an alternative to Azure Storage when your individual or combined file sizes exceed that which is supported by Azure Storage.</span></span> <span data-ttu-id="3bfbd-144">但是，在使用 Data Lake Store 作为 HDInsight 群集的主要存储时，应该遵照[性能优化准则](/azure/data-lake-store/data-lake-store-performance-tuning-guidance#optimizing-io-intensive-jobs-on-hadoop-and-spark-workloads-on-hdinsight)，以及有关 [Spark](/azure/data-lake-store/data-lake-store-performance-tuning-spark)、[Hive](/azure/data-lake-store/data-lake-store-performance-tuning-hive)、[MapReduce](/azure/data-lake-store/data-lake-store-performance-tuning-mapreduce) 和 [Storm](/azure/data-lake-store/data-lake-store-performance-tuning-storm) 的具体准则。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-144">However, there are [performance tuning guidelines](/azure/data-lake-store/data-lake-store-performance-tuning-guidance#optimizing-io-intensive-jobs-on-hadoop-and-spark-workloads-on-hdinsight) you should follow when using Data Lake Store as your primary storage for an HDInsight cluster, with specific guidelines for [Spark](/azure/data-lake-store/data-lake-store-performance-tuning-spark), [Hive](/azure/data-lake-store/data-lake-store-performance-tuning-hive), [MapReduce](/azure/data-lake-store/data-lake-store-performance-tuning-mapreduce), and [Storm](/azure/data-lake-store/data-lake-store-performance-tuning-storm).</span></span> <span data-ttu-id="3bfbd-145">此外，请务必检查 Data Lake Store 的[区域可用性](https://azure.microsoft.com/regions/#services)，因为它的适用区域不如 Azure 存储那么多，并且它必须与 HDInsight 群集位于同一区域。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-145">Also, be sure to check Data Lake Store's [regional availability](https://azure.microsoft.com/regions/#services), because it is not available in as many regions as Azure Storage, and it needs to be located in the same region as your HDInsight cluster.</span></span>

<span data-ttu-id="3bfbd-146">Data Lake Store 与 Azure Data Lake Analytics 相结合，专为存储数据分析而设计，并已针对数据分析方案优化了性能。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-146">Coupled with Azure Data Lake Analytics, Data Lake Store is specifically designed to enable analytics on the stored data and is tuned for performance for data analytics scenarios.</span></span> <span data-ttu-id="3bfbd-147">此外，可以使用 Azure SQL 数据仓库的 PolyBase 功能访问 Data Lake Store。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-147">Data Lake Store can also be accessed via Azure SQL Data Warehouse using its PolyBase feature.</span></span>

## <a name="azure-cosmos-db"></a><span data-ttu-id="3bfbd-148">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="3bfbd-148">Azure Cosmos DB</span></span>

<span data-ttu-id="3bfbd-149">[Azure Cosmos DB](/azure/cosmos-db/) 由 Microsoft 提供，是全球分布式多模型数据库。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-149">[Azure Cosmos DB](/azure/cosmos-db/) is Microsoft’s globally distributed multi-model database.</span></span> <span data-ttu-id="3bfbd-150">Cosmos DB 保证全球任意位置在第 99 个百分位为个位数毫秒的延迟，提供多种定义明确的一致性模型以微调性能，并保证多宿主功能的高可用性。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-150">Cosmos DB guarantees single-digit-millisecond latencies at the 99th percentile anywhere in the world, offers multiple well-defined consistency models to fine-tune performance, and guarantees high availability with multi-homing capabilities.</span></span>

<span data-ttu-id="3bfbd-151">Azure Cosmos DB 与架构无关。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-151">Azure Cosmos DB is schema-agnostic.</span></span> <span data-ttu-id="3bfbd-152">它自动为所有数据编制索引，无需客户管理架构和索引。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-152">It automatically indexes all the data without requiring you to deal with schema and index management.</span></span> <span data-ttu-id="3bfbd-153">它也是多模型、本地支持文档、键值、图和列-系列的数据模型。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-153">It’s also multi-model, natively supporting document, key-value, graph, and column-family data models.</span></span>

<span data-ttu-id="3bfbd-154">Azure Cosmos DB 功能：</span><span class="sxs-lookup"><span data-stu-id="3bfbd-154">Azure Cosmos DB features:</span></span>

- [<span data-ttu-id="3bfbd-155">异地复制</span><span class="sxs-lookup"><span data-stu-id="3bfbd-155">Geo-replication</span></span>](/azure/cosmos-db/distribute-data-globally)
- <span data-ttu-id="3bfbd-156">在全球范围内[灵活缩放吞吐量和存储](/azure/cosmos-db/partition-data)</span><span class="sxs-lookup"><span data-stu-id="3bfbd-156">[Elastic scaling of throughput and storage](/azure/cosmos-db/partition-data) worldwide</span></span>
- [<span data-ttu-id="3bfbd-157">五个妥善定义的一致性级别</span><span class="sxs-lookup"><span data-stu-id="3bfbd-157">Five well-defined consistency levels</span></span>](/azure/cosmos-db/consistency-levels)

## <a name="hbase-on-hdinsight"></a><span data-ttu-id="3bfbd-158">HDInsight 上的 HBase</span><span class="sxs-lookup"><span data-stu-id="3bfbd-158">HBase on HDInsight</span></span>

<span data-ttu-id="3bfbd-159">[Apache HBase](https://hbase.apache.org/) 是一种开源 NoSQL 数据库，它构建于 Hadoop 基础之上，并基于 Google BigTable 模型化。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-159">[Apache HBase](https://hbase.apache.org/) is an open-source, NoSQL database that is built on Hadoop and modeled after Google BigTable.</span></span> <span data-ttu-id="3bfbd-160">HBase 针对按列系列组织的无架构数据库中的大量非结构化和结构化数据提供随机访问和强一致性。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-160">HBase provides random access and strong consistency for large amounts of unstructured and semi-structured data in a schemaless database organized by column families.</span></span>

<span data-ttu-id="3bfbd-161">数据存储在表的各行中，行中的数据按列系列分组。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-161">Data is stored in the rows of a table, and data within a row is grouped by column family.</span></span> <span data-ttu-id="3bfbd-162">HBase 是无架构数据库，也就是说，在使用其数据前，不必定义列以及列中存储的数据类型。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-162">HBase is schemaless in the sense that neither the columns nor the type of data stored in them need to be defined before using them.</span></span> <span data-ttu-id="3bfbd-163">开放源代码可进行线性伸缩，以处理上千节点上数 PB 的数据。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-163">The open-source code scales linearly to handle petabytes of data on thousands of nodes.</span></span> <span data-ttu-id="3bfbd-164">开放源代码可依赖数据冗余、批处理以及 Hadoop 生态系统中的分布式应用程序提供的其他功能。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-164">It can rely on data redundancy, batch processing, and other features that are provided by distributed applications in the Hadoop ecosystem.</span></span>

<span data-ttu-id="3bfbd-165">[HDInsight 实施](/azure/hdinsight/hbase/apache-hbase-overview)利用 HBase 的横向扩展架构来提供表自动分片、使读写操作保持高度的一致性，以及支持自动故障转移。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-165">The [HDInsight implementation](/azure/hdinsight/hbase/apache-hbase-overview) leverages the scale-out architecture of HBase to provide automatic sharding of tables, strong consistency for reads and writes, and automatic failover.</span></span> <span data-ttu-id="3bfbd-166">性能可通过对读取使用内存中缓存并对写入使用高吞吐量流式处理来提高。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-166">Performance is enhanced by in-memory caching for reads and high-throughput streaming for writes.</span></span> <span data-ttu-id="3bfbd-167">在大多数情况下，我们会[在虚拟网络中创建 HBase 群集](/azure/hdinsight/hbase/apache-hbase-provision-vnet)，使其他 HDInsight 群集和应用程序可以直接访问表。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-167">In most cases, you'll want to [create the HBase cluster inside a virtual network](/azure/hdinsight/hbase/apache-hbase-provision-vnet) so other HDInsight clusters and applications can directly access the tables.</span></span>

## <a name="key-selection-criteria"></a><span data-ttu-id="3bfbd-168">关键选择条件</span><span class="sxs-lookup"><span data-stu-id="3bfbd-168">Key selection criteria</span></span>

<span data-ttu-id="3bfbd-169">若要缩小选择范围，请先回答以下问题：</span><span class="sxs-lookup"><span data-stu-id="3bfbd-169">To narrow the choices, start by answering these questions:</span></span>

- <span data-ttu-id="3bfbd-170">是否需要对任何类型的文本或二进制数据使用基于云的高速托管存储？</span><span class="sxs-lookup"><span data-stu-id="3bfbd-170">Do you need managed, high speed, cloud-based storage for any type of text or binary data?</span></span> <span data-ttu-id="3bfbd-171">如果是，请选择一个文件存储选项。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-171">If yes, then select one of the file storage options.</span></span>

- <span data-ttu-id="3bfbd-172">是否需要针对并行分析工作负荷和高吞吐量/IOPS 优化的文件存储？</span><span class="sxs-lookup"><span data-stu-id="3bfbd-172">Do you need file storage that is optimized for parallel analytics workloads and high throughput/IOPS?</span></span> <span data-ttu-id="3bfbd-173">如果是，请选择优化了分析工作负荷性能的选项。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-173">If yes, then choose an option that is tuned to analytics workload performance.</span></span>

- <span data-ttu-id="3bfbd-174">是否需要在无架构数据库中存储非结构化或半结构化数据？</span><span class="sxs-lookup"><span data-stu-id="3bfbd-174">Do you need to store unstructured or semi-structured data in a schemaless database?</span></span> <span data-ttu-id="3bfbd-175">如果是，请选择一个非关系数据库选项。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-175">If so, select one of the non-relational options.</span></span> <span data-ttu-id="3bfbd-176">比较索引和数据库模型的选项。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-176">Compare options for indexing and database models.</span></span> <span data-ttu-id="3bfbd-177">根据需要存储的数据类型，主数据库模型可能是最重要的因素。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-177">Depending on the type of data you need to store, the primary database models may be the largest factor.</span></span>

- <span data-ttu-id="3bfbd-178">是否可以在你的区域中使用该服务？</span><span class="sxs-lookup"><span data-stu-id="3bfbd-178">Can you use the service in your region?</span></span> <span data-ttu-id="3bfbd-179">检查每个 Azure 服务的区域可用性。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-179">Check the regional availability for each Azure service.</span></span> <span data-ttu-id="3bfbd-180">参阅[各区域的产品可用性](https://azure.microsoft.com/regions/services/)。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-180">See [Products available by region](https://azure.microsoft.com/regions/services/).</span></span>

## <a name="capability-matrix"></a><span data-ttu-id="3bfbd-181">功能矩阵</span><span class="sxs-lookup"><span data-stu-id="3bfbd-181">Capability matrix</span></span>

<span data-ttu-id="3bfbd-182">以下各表汇总了功能上的关键差异。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-182">The following tables summarize the key differences in capabilities.</span></span>

### <a name="file-storage-capabilities"></a><span data-ttu-id="3bfbd-183">文件存储功能</span><span class="sxs-lookup"><span data-stu-id="3bfbd-183">File storage capabilities</span></span>

|  | <span data-ttu-id="3bfbd-184">Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="3bfbd-184">Azure Data Lake Store</span></span> | <span data-ttu-id="3bfbd-185">Azure Blob 存储容器</span><span class="sxs-lookup"><span data-stu-id="3bfbd-185">Azure Blob Storage containers</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3bfbd-186">目的</span><span class="sxs-lookup"><span data-stu-id="3bfbd-186">Purpose</span></span> | <span data-ttu-id="3bfbd-187">大数据分析工作负荷的优化存储</span><span class="sxs-lookup"><span data-stu-id="3bfbd-187">Optimized storage for big data analytics workloads</span></span> |<span data-ttu-id="3bfbd-188">用于多种存储方案的常规用途对象存储</span><span class="sxs-lookup"><span data-stu-id="3bfbd-188">General purpose object store for a wide variety of storage scenarios</span></span> |
| <span data-ttu-id="3bfbd-189">用例</span><span class="sxs-lookup"><span data-stu-id="3bfbd-189">Use cases</span></span> | <span data-ttu-id="3bfbd-190">Batch、流分析和机器学习数据，例如日志文件、IoT 数据、点击流、大型数据集</span><span class="sxs-lookup"><span data-stu-id="3bfbd-190">Batch, streaming analytics, and machine learning data such as log files, IoT data, click streams, large datasets</span></span> | <span data-ttu-id="3bfbd-191">任何类型的文本或二进制数据，例如应用程序后端、备份数据、流式处理媒体存储和常规用途数据</span><span class="sxs-lookup"><span data-stu-id="3bfbd-191">Any type of text or binary data, such as application back end, backup data, media storage for streaming, and general purpose data</span></span> |
| <span data-ttu-id="3bfbd-192">结构</span><span class="sxs-lookup"><span data-stu-id="3bfbd-192">Structure</span></span> | <span data-ttu-id="3bfbd-193">分层文件系统</span><span class="sxs-lookup"><span data-stu-id="3bfbd-193">Hierarchical file system</span></span> | <span data-ttu-id="3bfbd-194">具有平面命名空间的对象存储</span><span class="sxs-lookup"><span data-stu-id="3bfbd-194">Object store with flat namespace</span></span> |
| <span data-ttu-id="3bfbd-195">Authentication</span><span class="sxs-lookup"><span data-stu-id="3bfbd-195">Authentication</span></span> | <span data-ttu-id="3bfbd-196">基于 [Azure Active Directory 标识](/azure/active-directory/active-directory-authentication-scenarios)</span><span class="sxs-lookup"><span data-stu-id="3bfbd-196">Based on [Azure Active Directory Identities](/azure/active-directory/active-directory-authentication-scenarios)</span></span> | <span data-ttu-id="3bfbd-197">基于共享机密 - [帐户访问密钥](/azure/storage/common/storage-create-storage-account#manage-your-storage-account)、[共享访问签名密钥](/azure/storage/common/storage-dotnet-shared-access-signature-part-1)和[基于角色的访问控制 (RBAC)](/azure/security/security-storage-overview)</span><span class="sxs-lookup"><span data-stu-id="3bfbd-197">Based on shared secrets [Account Access Keys](/azure/storage/common/storage-create-storage-account#manage-your-storage-account) and [Shared Access Signature Keys](/azure/storage/common/storage-dotnet-shared-access-signature-part-1), and [Role-Based Access Control (RBAC)](/azure/security/security-storage-overview)</span></span> |
| <span data-ttu-id="3bfbd-198">身份验证协议</span><span class="sxs-lookup"><span data-stu-id="3bfbd-198">Authentication protocol</span></span> | <span data-ttu-id="3bfbd-199">OAuth 2.0。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-199">OAuth 2.0.</span></span> <span data-ttu-id="3bfbd-200">调用必须包含 Azure Active Directory 发布的有效的 JWT（JSON Web 令牌）</span><span class="sxs-lookup"><span data-stu-id="3bfbd-200">Calls must contain a valid JWT (JSON web token) issued by Azure Active Directory</span></span> | <span data-ttu-id="3bfbd-201">基于哈希的消息身份验证代码 (HMAC)。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-201">Hash-based message authentication code (HMAC).</span></span> <span data-ttu-id="3bfbd-202">调用必须包含 Base64 编码的 SHA-256 哈希作为 HTTP 请求的一部分。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-202">Calls must contain a Base64-encoded SHA-256 hash over a part of the HTTP request.</span></span> |
| <span data-ttu-id="3bfbd-203">授权</span><span class="sxs-lookup"><span data-stu-id="3bfbd-203">Authorization</span></span> | <span data-ttu-id="3bfbd-204">POSIX 访问控制列表 (ACL)。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-204">POSIX access control lists (ACLs).</span></span> <span data-ttu-id="3bfbd-205">可设置基于 Azure Active Directory 标识的 ACL 为文件和文件夹级别。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-205">ACLs based on Azure Active Directory identities can be set file and folder level.</span></span> | <span data-ttu-id="3bfbd-206">对于帐户级别授权 – 使用[帐户访问密钥](/azure/storage/common/storage-create-storage-account#manage-your-storage-account)。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-206">For account-level authorization use [Account Access Keys](/azure/storage/common/storage-create-storage-account#manage-your-storage-account).</span></span> <span data-ttu-id="3bfbd-207">对于帐户、容器 或 blob 授权 - 使用[共享访问签名密钥](/azure/storage/common/storage-dotnet-shared-access-signature-part-1)。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-207">For account, container, or blob authorization use [Shared Access Signature Keys](/azure/storage/common/storage-dotnet-shared-access-signature-part-1).</span></span> |
| <span data-ttu-id="3bfbd-208">审核</span><span class="sxs-lookup"><span data-stu-id="3bfbd-208">Auditing</span></span> | <span data-ttu-id="3bfbd-209">可用。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-209">Available.</span></span>  |<span data-ttu-id="3bfbd-210">可用</span><span class="sxs-lookup"><span data-stu-id="3bfbd-210">Available</span></span> |
| <span data-ttu-id="3bfbd-211">静态加密</span><span class="sxs-lookup"><span data-stu-id="3bfbd-211">Encryption at rest</span></span> | <span data-ttu-id="3bfbd-212">透明、服务器端</span><span class="sxs-lookup"><span data-stu-id="3bfbd-212">Transparent, server side</span></span> | <span data-ttu-id="3bfbd-213">透明、服务器端；客户端加密</span><span class="sxs-lookup"><span data-stu-id="3bfbd-213">Transparent, server side; Client-side encryption</span></span> |
| <span data-ttu-id="3bfbd-214">Developer SDK</span><span class="sxs-lookup"><span data-stu-id="3bfbd-214">Developer SDKs</span></span> | <span data-ttu-id="3bfbd-215">.NET、Java、Python、Node.js</span><span class="sxs-lookup"><span data-stu-id="3bfbd-215">.NET, Java, Python, Node.js</span></span> | <span data-ttu-id="3bfbd-216">.Net、Java、Python、Node.js、C++、Ruby</span><span class="sxs-lookup"><span data-stu-id="3bfbd-216">.Net, Java, Python, Node.js, C++, Ruby</span></span> |
| <span data-ttu-id="3bfbd-217">分析工作负荷性能</span><span class="sxs-lookup"><span data-stu-id="3bfbd-217">Analytics workload performance</span></span> | <span data-ttu-id="3bfbd-218">并行分析工作负荷的优化性能、高吞吐量和 IOPS</span><span class="sxs-lookup"><span data-stu-id="3bfbd-218">Optimized performance for parallel analytics workloads, High Throughput and IOPS</span></span> | <span data-ttu-id="3bfbd-219">未进行分析工作负荷优化</span><span class="sxs-lookup"><span data-stu-id="3bfbd-219">Not optimized for analytics workloads</span></span> |
| <span data-ttu-id="3bfbd-220">大小限制</span><span class="sxs-lookup"><span data-stu-id="3bfbd-220">Size limits</span></span> | <span data-ttu-id="3bfbd-221">无帐户大小、文件大小或文件数量限制</span><span class="sxs-lookup"><span data-stu-id="3bfbd-221">No limits on account sizes, file sizes or number of files</span></span> | <span data-ttu-id="3bfbd-222">[此处](/azure/azure-subscription-service-limits#storage-limits)记录有具体限制</span><span class="sxs-lookup"><span data-stu-id="3bfbd-222">Specific limits documented [here](/azure/azure-subscription-service-limits#storage-limits)</span></span> |
| <span data-ttu-id="3bfbd-223">异地冗余</span><span class="sxs-lookup"><span data-stu-id="3bfbd-223">Geo-redundancy</span></span> | <span data-ttu-id="3bfbd-224">本地冗余（一个 Azure 区域中数据的多个副本）</span><span class="sxs-lookup"><span data-stu-id="3bfbd-224">Locally-redundant (multiple copies of data in one Azure region)</span></span> | <span data-ttu-id="3bfbd-225">本地冗余 (LRS)、全局冗余 (GRS)、读取访问全局冗余 (RA-GRS)。</span><span class="sxs-lookup"><span data-stu-id="3bfbd-225">Locally redundant (LRS), globally redundant (GRS), read-access globally redundant (RA-GRS).</span></span> <span data-ttu-id="3bfbd-226">详细信息参见[此处](/azure/storage/common/storage-redundancy)</span><span class="sxs-lookup"><span data-stu-id="3bfbd-226">See [here](/azure/storage/common/storage-redundancy) for more information</span></span> |

### <a name="nosql-database-capabilities"></a><span data-ttu-id="3bfbd-227">NoSQL 数据库功能</span><span class="sxs-lookup"><span data-stu-id="3bfbd-227">NoSQL database capabilities</span></span>

|                                    |                                           <span data-ttu-id="3bfbd-228">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="3bfbd-228">Azure Cosmos DB</span></span>                                           |                                                             <span data-ttu-id="3bfbd-229">HDInsight 上的 HBase</span><span class="sxs-lookup"><span data-stu-id="3bfbd-229">HBase on HDInsight</span></span>                                                             |
|------------------------------------|-----------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
|       <span data-ttu-id="3bfbd-230">主数据库模型</span><span class="sxs-lookup"><span data-stu-id="3bfbd-230">Primary database model</span></span>       |                      <span data-ttu-id="3bfbd-231">文档存储、图形、键-值存储、宽列存储</span><span class="sxs-lookup"><span data-stu-id="3bfbd-231">Document store, graph, key-value store, wide column store</span></span>                      |                                                             <span data-ttu-id="3bfbd-232">宽列存储</span><span class="sxs-lookup"><span data-stu-id="3bfbd-232">Wide column store</span></span>                                                              |
|         <span data-ttu-id="3bfbd-233">辅助索引</span><span class="sxs-lookup"><span data-stu-id="3bfbd-233">Secondary indexes</span></span>          |                                                 <span data-ttu-id="3bfbd-234">是</span><span class="sxs-lookup"><span data-stu-id="3bfbd-234">Yes</span></span>                                                 |                                                                     <span data-ttu-id="3bfbd-235">否</span><span class="sxs-lookup"><span data-stu-id="3bfbd-235">No</span></span>                                                                     |
|        <span data-ttu-id="3bfbd-236">SQL 语言支持</span><span class="sxs-lookup"><span data-stu-id="3bfbd-236">SQL language support</span></span>        |                                                 <span data-ttu-id="3bfbd-237">是</span><span class="sxs-lookup"><span data-stu-id="3bfbd-237">Yes</span></span>                                                 |                                     <span data-ttu-id="3bfbd-238">是（使用 [Phoenix](https://phoenix.apache.org/) JDBC 驱动程序）</span><span class="sxs-lookup"><span data-stu-id="3bfbd-238">Yes (using the [Phoenix](https://phoenix.apache.org/) JDBC driver)</span></span>                                      |
|            <span data-ttu-id="3bfbd-239">一致性</span><span class="sxs-lookup"><span data-stu-id="3bfbd-239">Consistency</span></span>             |                   <span data-ttu-id="3bfbd-240">非常、有限过期、会话、一致前缀或最终</span><span class="sxs-lookup"><span data-stu-id="3bfbd-240">Strong, bounded-staleness, session, consistent prefix, eventual</span></span>                   |                                                                   <span data-ttu-id="3bfbd-241">非常</span><span class="sxs-lookup"><span data-stu-id="3bfbd-241">Strong</span></span>                                                                   |
| <span data-ttu-id="3bfbd-242">本机 Azure Functions 集成</span><span class="sxs-lookup"><span data-stu-id="3bfbd-242">Native Azure Functions integration</span></span> |                        [<span data-ttu-id="3bfbd-243">是</span><span class="sxs-lookup"><span data-stu-id="3bfbd-243">Yes</span></span>](/azure/cosmos-db/serverless-computing-database)                        |                                                                     <span data-ttu-id="3bfbd-244">否</span><span class="sxs-lookup"><span data-stu-id="3bfbd-244">No</span></span>                                                                     |
|   <span data-ttu-id="3bfbd-245">自动全局分发</span><span class="sxs-lookup"><span data-stu-id="3bfbd-245">Automatic global distribution</span></span>    |                          [<span data-ttu-id="3bfbd-246">是</span><span class="sxs-lookup"><span data-stu-id="3bfbd-246">Yes</span></span>](/azure/cosmos-db/distribute-data-globally)                           | <span data-ttu-id="3bfbd-247">使用最终一致性时，无法跨区域[配置 HBase 群集复制](/azure/hdinsight/hbase/apache-hbase-replication)</span><span class="sxs-lookup"><span data-stu-id="3bfbd-247">No [HBase cluster replication can be configured](/azure/hdinsight/hbase/apache-hbase-replication) across regions with eventual consistency</span></span> |
|           <span data-ttu-id="3bfbd-248">定价模型</span><span class="sxs-lookup"><span data-stu-id="3bfbd-248">Pricing model</span></span>            | <span data-ttu-id="3bfbd-249">按秒计费的弹性可缩放请求单位 (RU)、弹性可缩放的存储</span><span class="sxs-lookup"><span data-stu-id="3bfbd-249">Elastically scalable request units (RUs) charged per-second as needed, elastically scalable storage</span></span> |                              <span data-ttu-id="3bfbd-250">HDInsight 群集（横向缩放节点）和存储按分钟计费</span><span class="sxs-lookup"><span data-stu-id="3bfbd-250">Per-minute pricing for HDInsight cluster (horizontal scaling of nodes), storage</span></span>                               |
