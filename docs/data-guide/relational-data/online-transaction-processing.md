---
title: 联机事务处理 (OLTP)
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.openlocfilehash: c6cc628977b438578f2d88d1928afcd75ddddbcd
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/20/2019
ms.locfileid: "58244948"
---
# <a name="online-transaction-processing-oltp"></a><span data-ttu-id="5ddba-102">联机事务处理 (OLTP)</span><span class="sxs-lookup"><span data-stu-id="5ddba-102">Online transaction processing (OLTP)</span></span>

<span data-ttu-id="5ddba-103">使用计算机系统对事务数据进行管理称为联机事务处理 (OLTP)。</span><span class="sxs-lookup"><span data-stu-id="5ddba-103">The management of transactional data using computer systems is referred to as Online Transaction Processing (OLTP).</span></span> <span data-ttu-id="5ddba-104">OLTP 系统在组织的日常运营中发生业务交互时对其进行记录，并且支持对该数据进行查询来做出推断。</span><span class="sxs-lookup"><span data-stu-id="5ddba-104">OLTP systems record business interactions as they occur in the day-to-day operation of the organization, and support querying of this data to make inferences.</span></span>

## <a name="transactional-data"></a><span data-ttu-id="5ddba-105">事务数据</span><span class="sxs-lookup"><span data-stu-id="5ddba-105">Transactional data</span></span>

<span data-ttu-id="5ddba-106">事务数据是指一种信息，用于跟踪与组织活动相关的交互。</span><span class="sxs-lookup"><span data-stu-id="5ddba-106">Transactional data is information that tracks the interactions related to an organization's activities.</span></span> <span data-ttu-id="5ddba-107">这些交互通常是业务事务，如从客户收到的付款、对供应商进行的付款、从库存移动的产品、接受的订单或交付的服务。</span><span class="sxs-lookup"><span data-stu-id="5ddba-107">These interactions are typically business transactions, such as payments received from customers, payments made to suppliers, products moving through inventory, orders taken, or services delivered.</span></span> <span data-ttu-id="5ddba-108">表示事务本身的事务事件通常包含时间维度、一些数值和对其他数据的引用。</span><span class="sxs-lookup"><span data-stu-id="5ddba-108">Transactional events, which represent the transactions themselves, typically contain a time dimension, some numerical values, and references to other data.</span></span>

<span data-ttu-id="5ddba-109">事务通常需要*原子性*和*一致性*。</span><span class="sxs-lookup"><span data-stu-id="5ddba-109">Transactions typically need to be *atomic* and *consistent*.</span></span> <span data-ttu-id="5ddba-110">原子性意味着整个事务始终作为一个工作单元成功或失败，永远不会处于半完成状态。</span><span class="sxs-lookup"><span data-stu-id="5ddba-110">Atomicity means that an entire transaction always succeeds or fails as one unit of work, and is never left in a half-completed state.</span></span> <span data-ttu-id="5ddba-111">如果无法完成某个事务，数据库系统必须回退任何已作为该事务的一部分完成的步骤。</span><span class="sxs-lookup"><span data-stu-id="5ddba-111">If a transaction cannot be completed, the database system must roll back any steps that were already done as part of that transaction.</span></span> <span data-ttu-id="5ddba-112">在传统 RDBMS 中，如果某个事务无法完成，这种回退会自动发生。</span><span class="sxs-lookup"><span data-stu-id="5ddba-112">In a traditional RDBMS, this rollback happens automatically if a transaction cannot be completed.</span></span> <span data-ttu-id="5ddba-113">一致性意味着事务始终让数据处于有效状态。</span><span class="sxs-lookup"><span data-stu-id="5ddba-113">Consistency means that transactions always leave the data in a valid state.</span></span> <span data-ttu-id="5ddba-114">（这些是原子性和一致性的非常不正式的说明。</span><span class="sxs-lookup"><span data-stu-id="5ddba-114">(These are very informal descriptions of atomicity and consistency.</span></span> <span data-ttu-id="5ddba-115">这些属性有更正式的定义，如 [ACID](https://en.wikipedia.org/wiki/ACID)。）</span><span class="sxs-lookup"><span data-stu-id="5ddba-115">There are more formal definitions of these properties, such as [ACID](https://en.wikipedia.org/wiki/ACID).)</span></span>

<span data-ttu-id="5ddba-116">事务数据库可以使用各种锁定策略（如悲观锁定）支持事务的强一致性，以确保所有用户和进程的所有数据在企业的上下文中具有强一致性。</span><span class="sxs-lookup"><span data-stu-id="5ddba-116">Transactional databases can support strong consistency for transactions using various locking strategies, such as pessimistic locking, to ensure that all data is strongly consistent within the context of the enterprise, for all users and processes.</span></span>

<span data-ttu-id="5ddba-117">使用事务数据的最常见部署体系结构是 3 层体系结构中的数据存储层。</span><span class="sxs-lookup"><span data-stu-id="5ddba-117">The most common deployment architecture that uses transactional data is the data store tier in a 3-tier architecture.</span></span> <span data-ttu-id="5ddba-118">3 层体系结构通常包含表示层、业务逻辑层和数据存储层。</span><span class="sxs-lookup"><span data-stu-id="5ddba-118">A 3-tier architecture typically consists of a presentation tier, business logic tier, and data store tier.</span></span> <span data-ttu-id="5ddba-119">相关的部署体系结构是 [N 层](/azure/architecture/guide/architecture-styles/n-tier)体系结构，它可能具有多个处理业务逻辑的中间层。</span><span class="sxs-lookup"><span data-stu-id="5ddba-119">A related deployment architecture is the [N-tier](/azure/architecture/guide/architecture-styles/n-tier) architecture, which may have multiple middle-tiers handling business logic.</span></span>

## <a name="typical-traits-of-transactional-data"></a><span data-ttu-id="5ddba-120">事务数据的典型特征</span><span class="sxs-lookup"><span data-stu-id="5ddba-120">Typical traits of transactional data</span></span>

<span data-ttu-id="5ddba-121">事务数据往往具有以下特征：</span><span class="sxs-lookup"><span data-stu-id="5ddba-121">Transactional data tends to have the following traits:</span></span>

| <span data-ttu-id="5ddba-122">要求</span><span class="sxs-lookup"><span data-stu-id="5ddba-122">Requirement</span></span> | <span data-ttu-id="5ddba-123">说明</span><span class="sxs-lookup"><span data-stu-id="5ddba-123">Description</span></span> |
| --- | --- |
| <span data-ttu-id="5ddba-124">规范化</span><span class="sxs-lookup"><span data-stu-id="5ddba-124">Normalization</span></span> | <span data-ttu-id="5ddba-125">高度规范化</span><span class="sxs-lookup"><span data-stu-id="5ddba-125">Highly normalized</span></span> |
| <span data-ttu-id="5ddba-126">架构</span><span class="sxs-lookup"><span data-stu-id="5ddba-126">Schema</span></span> | <span data-ttu-id="5ddba-127">写入时架构，强制实施</span><span class="sxs-lookup"><span data-stu-id="5ddba-127">Schema on write, strongly enforced</span></span>|
| <span data-ttu-id="5ddba-128">一致性</span><span class="sxs-lookup"><span data-stu-id="5ddba-128">Consistency</span></span> | <span data-ttu-id="5ddba-129">强一致性，保证 ACID</span><span class="sxs-lookup"><span data-stu-id="5ddba-129">Strong consistency, ACID guarantees</span></span> |
| <span data-ttu-id="5ddba-130">完整性</span><span class="sxs-lookup"><span data-stu-id="5ddba-130">Integrity</span></span> | <span data-ttu-id="5ddba-131">高完整性</span><span class="sxs-lookup"><span data-stu-id="5ddba-131">High integrity</span></span> |
| <span data-ttu-id="5ddba-132">使用事务</span><span class="sxs-lookup"><span data-stu-id="5ddba-132">Uses transactions</span></span> | <span data-ttu-id="5ddba-133">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-133">Yes</span></span> |
| <span data-ttu-id="5ddba-134">锁定策略</span><span class="sxs-lookup"><span data-stu-id="5ddba-134">Locking strategy</span></span> | <span data-ttu-id="5ddba-135">悲观或乐观</span><span class="sxs-lookup"><span data-stu-id="5ddba-135">Pessimistic or optimistic</span></span>|
| <span data-ttu-id="5ddba-136">可更新</span><span class="sxs-lookup"><span data-stu-id="5ddba-136">Updateable</span></span> | <span data-ttu-id="5ddba-137">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-137">Yes</span></span> |
| <span data-ttu-id="5ddba-138">可追加</span><span class="sxs-lookup"><span data-stu-id="5ddba-138">Appendable</span></span> | <span data-ttu-id="5ddba-139">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-139">Yes</span></span> |
| <span data-ttu-id="5ddba-140">工作负荷</span><span class="sxs-lookup"><span data-stu-id="5ddba-140">Workload</span></span> | <span data-ttu-id="5ddba-141">大量写入，适度读取</span><span class="sxs-lookup"><span data-stu-id="5ddba-141">Heavy writes, moderate reads</span></span> |
| <span data-ttu-id="5ddba-142">索引</span><span class="sxs-lookup"><span data-stu-id="5ddba-142">Indexing</span></span> | <span data-ttu-id="5ddba-143">主要和辅助索引</span><span class="sxs-lookup"><span data-stu-id="5ddba-143">Primary and secondary indexes</span></span> |
| <span data-ttu-id="5ddba-144">基准大小</span><span class="sxs-lookup"><span data-stu-id="5ddba-144">Datum size</span></span> | <span data-ttu-id="5ddba-145">中小型</span><span class="sxs-lookup"><span data-stu-id="5ddba-145">Small to medium sized</span></span> |
| <span data-ttu-id="5ddba-146">模型</span><span class="sxs-lookup"><span data-stu-id="5ddba-146">Model</span></span> | <span data-ttu-id="5ddba-147">关系</span><span class="sxs-lookup"><span data-stu-id="5ddba-147">Relational</span></span> |
| <span data-ttu-id="5ddba-148">数据形状</span><span class="sxs-lookup"><span data-stu-id="5ddba-148">Data shape</span></span> | <span data-ttu-id="5ddba-149">表格</span><span class="sxs-lookup"><span data-stu-id="5ddba-149">Tabular</span></span> |
| <span data-ttu-id="5ddba-150">查询灵活性</span><span class="sxs-lookup"><span data-stu-id="5ddba-150">Query flexibility</span></span> | <span data-ttu-id="5ddba-151">高度灵活</span><span class="sxs-lookup"><span data-stu-id="5ddba-151">Highly flexible</span></span> |
| <span data-ttu-id="5ddba-152">缩放</span><span class="sxs-lookup"><span data-stu-id="5ddba-152">Scale</span></span> | <span data-ttu-id="5ddba-153">小型 (MB) 到大型（几 TB）</span><span class="sxs-lookup"><span data-stu-id="5ddba-153">Small (MBs) to Large (a few TBs)</span></span> |

## <a name="when-to-use-this-solution"></a><span data-ttu-id="5ddba-154">何时使用此解决方案</span><span class="sxs-lookup"><span data-stu-id="5ddba-154">When to use this solution</span></span>

<span data-ttu-id="5ddba-155">如果需要高效地处理和存储业务事务并立即使其能够以一致的方式供客户端应用程序使用，请选择 OLTP。</span><span class="sxs-lookup"><span data-stu-id="5ddba-155">Choose OLTP when you need to efficiently process and store business transactions and immediately make them available to client applications in a consistent way.</span></span> <span data-ttu-id="5ddba-156">当处理过程中任何明显的延迟都会对业务的日常运营造成负面影响时，请使用此体系结构。</span><span class="sxs-lookup"><span data-stu-id="5ddba-156">Use this architecture when any tangible delay in processing would have a negative impact on the day-to-day operations of the business.</span></span>

<span data-ttu-id="5ddba-157">OLTP 系统设计用于高效地处理和存储事务，以及查询事务数据。</span><span class="sxs-lookup"><span data-stu-id="5ddba-157">OLTP systems are designed to efficiently process and store transactions, as well as query transactional data.</span></span> <span data-ttu-id="5ddba-158">通过 OLTP 系统高效地处理和存储各个事务有一部分是通过数据规范化完成的 &mdash; 也就是说，将数据拆分为冗余较少的块。</span><span class="sxs-lookup"><span data-stu-id="5ddba-158">The goal of efficiently processing and storing individual transactions by an OLTP system is partly accomplished by data normalization &mdash; that is, breaking the data up into smaller chunks that are less redundant.</span></span> <span data-ttu-id="5ddba-159">这可以提高效率，因为它使得 OLTP 系统能够独立处理大量的事务，并且避免了在存在冗余数据的情况下维护数据完整性所需执行的额外处理。</span><span class="sxs-lookup"><span data-stu-id="5ddba-159">This supports efficiency because it enables the OLTP system to process large numbers of transactions independently, and avoids extra processing needed to maintain data integrity in the presence of redundant data.</span></span>

## <a name="challenges"></a><span data-ttu-id="5ddba-160">挑战</span><span class="sxs-lookup"><span data-stu-id="5ddba-160">Challenges</span></span>

<span data-ttu-id="5ddba-161">实现和使用 OLTP 系统可能会带来一些挑战：</span><span class="sxs-lookup"><span data-stu-id="5ddba-161">Implementing and using an OLTP system can create a few challenges:</span></span>

- <span data-ttu-id="5ddba-162">OLTP 系统并非非常适合用于处理对大量数据的聚合，但是有一些例外，例如，进行了良好规划的基于 SQL Server 的解决方案。</span><span class="sxs-lookup"><span data-stu-id="5ddba-162">OLTP systems are not always good for handling aggregates over large amounts of data, although there are exceptions, such as a well-planned SQL Server-based solution.</span></span> <span data-ttu-id="5ddba-163">对数据的分析依赖于对数百个单独事务的聚合计算，对于 OLTP 系统而言，这会消耗大量的资源。</span><span class="sxs-lookup"><span data-stu-id="5ddba-163">Analytics against the data, that rely on aggregate calculations over millions of individual transactions, are very resource intensive for an OLTP system.</span></span> <span data-ttu-id="5ddba-164">它们可能执行较慢，并且可能会因为阻塞数据库中的其他事务在而导致减速。</span><span class="sxs-lookup"><span data-stu-id="5ddba-164">They can be slow to execute and can cause a slow-down by blocking other transactions in the database.</span></span>
- <span data-ttu-id="5ddba-165">在对高度规范化的数据进行分析和报告时，查询通常比较复杂，因为大多数查询需要使用联接来使数据非规范化。</span><span class="sxs-lookup"><span data-stu-id="5ddba-165">When conducting analytics and reporting on data that is highly normalized, the queries tend to be complex, because most queries need to de-normalize the data by using joins.</span></span> <span data-ttu-id="5ddba-166">此外，在 OLTP 系统中，数据库对象的命名约定通常简洁而精炼。</span><span class="sxs-lookup"><span data-stu-id="5ddba-166">Also, naming conventions for database objects in OLTP systems tend to be terse and succinct.</span></span> <span data-ttu-id="5ddba-167">OLTP 系统中增强的规范化与简洁的命名约定共同使得业务用户在没有 DBA 或数据开发者帮助的情况下难以执行查询。</span><span class="sxs-lookup"><span data-stu-id="5ddba-167">The increased normalization coupled with terse naming conventions makes OLTP systems difficult for business users to query, without the help of a DBA or data developer.</span></span>
- <span data-ttu-id="5ddba-168">无限期地存储事务历史记录以及在任何一个表中存储太多数据都会导致查询性能变慢，具体取决于所存储的事务数。</span><span class="sxs-lookup"><span data-stu-id="5ddba-168">Storing the history of transactions indefinitely and storing too much data in any one table can lead to slow query performance, depending on the number of transactions stored.</span></span> <span data-ttu-id="5ddba-169">常见的解决方案是在 OLTP 系统中维护一个相关时间范围（例如当前会计年度）并将历史数据卸载到其他系统，例如数据市场或[数据仓库](./data-warehousing.md)。</span><span class="sxs-lookup"><span data-stu-id="5ddba-169">The common solution is to maintain a relevant window of time (such as the current fiscal year) in the OLTP system and offload historical data to other systems, such as a data mart or [data warehouse](./data-warehousing.md).</span></span>

## <a name="oltp-in-azure"></a><span data-ttu-id="5ddba-170">Azure 中的 OLTP</span><span class="sxs-lookup"><span data-stu-id="5ddba-170">OLTP in Azure</span></span>

<span data-ttu-id="5ddba-171">[应用服务 Web 应用](/azure/app-service/app-service-web-overview)中托管的应用程序（例如网站）、在应用服务中运行的 REST API、移动或桌面应用程序通常通过 REST API 中介与 OLTP 系统进行通信。</span><span class="sxs-lookup"><span data-stu-id="5ddba-171">Applications such as websites hosted in [App Service Web Apps](/azure/app-service/app-service-web-overview), REST APIs running in App Service, or mobile or desktop applications communicate with the OLTP system, typically via a REST API intermediary.</span></span>

<span data-ttu-id="5ddba-172">实际上，大多数工作负荷不单纯是 OLTP。</span><span class="sxs-lookup"><span data-stu-id="5ddba-172">In practice, most workloads are not purely OLTP.</span></span> <span data-ttu-id="5ddba-173">通常还存在分析组件。</span><span class="sxs-lookup"><span data-stu-id="5ddba-173">There tends to be an analytical component as well.</span></span> <span data-ttu-id="5ddba-174">此外，对实时报告的需求也在增加，例如针对运营系统运行报表。</span><span class="sxs-lookup"><span data-stu-id="5ddba-174">In addition, there is an increasing demand for real-time reporting, such as running reports against the operational system.</span></span> <span data-ttu-id="5ddba-175">这也称为 HTAP（混合事务性和分析处理）。</span><span class="sxs-lookup"><span data-stu-id="5ddba-175">This is also referred to as HTAP (Hybrid Transactional and Analytical Processing).</span></span> <span data-ttu-id="5ddba-176">有关详细信息，请参阅[联机分析处理 (OLAP)](./online-analytical-processing.md)。</span><span class="sxs-lookup"><span data-stu-id="5ddba-176">For more information, see [Online Analytical Processing (OLAP)](./online-analytical-processing.md).</span></span>

<span data-ttu-id="5ddba-177">在 Azure 中，以下所有数据存储都将满足 OLTP 和事务数据处理的核心要求：</span><span class="sxs-lookup"><span data-stu-id="5ddba-177">In Azure, all of the following data stores will meet the core requirements for OLTP and the management of transaction data:</span></span>

- [<span data-ttu-id="5ddba-178">Azure SQL 数据库</span><span class="sxs-lookup"><span data-stu-id="5ddba-178">Azure SQL Database</span></span>](/azure/sql-database/)
- [<span data-ttu-id="5ddba-179">Azure 虚拟机中的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="5ddba-179">SQL Server in an Azure virtual machine</span></span>](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-server-iaas-overview?toc=%2Fazure%2Fvirtual-machines%2Fwindows%2Ftoc.json)
- [<span data-ttu-id="5ddba-180">Azure Database for MySQL</span><span class="sxs-lookup"><span data-stu-id="5ddba-180">Azure Database for MySQL</span></span>](/azure/mysql/)
- [<span data-ttu-id="5ddba-181">Azure Database for PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="5ddba-181">Azure Database for PostgreSQL</span></span>](/azure/postgresql/)

## <a name="key-selection-criteria"></a><span data-ttu-id="5ddba-182">关键选择条件</span><span class="sxs-lookup"><span data-stu-id="5ddba-182">Key selection criteria</span></span>

<span data-ttu-id="5ddba-183">若要缩小选择范围，请先回答以下问题：</span><span class="sxs-lookup"><span data-stu-id="5ddba-183">To narrow the choices, start by answering these questions:</span></span>

- <span data-ttu-id="5ddba-184">你希望使用托管服务还是由你管理自己的服务器？</span><span class="sxs-lookup"><span data-stu-id="5ddba-184">Do you want a managed service rather than managing your own servers?</span></span>

- <span data-ttu-id="5ddba-185">解决方案是否对 Microsoft SQL Server、MySQL 或 PostgreSQL 兼容性具有特定的依赖关系？</span><span class="sxs-lookup"><span data-stu-id="5ddba-185">Does your solution have specific dependencies for Microsoft SQL Server, MySQL or PostgreSQL compatibility?</span></span> <span data-ttu-id="5ddba-186">你的应用程序可能会根据以下因素限制可以选择的数据存储：它支持用于与数据存储进行通信的驱动程序，或者它针对使用哪个数据库所做的假设。</span><span class="sxs-lookup"><span data-stu-id="5ddba-186">Your application may limit the data stores you can choose based on the drivers it supports for communicating with the data store, or the assumptions it makes about which database is used.</span></span>

- <span data-ttu-id="5ddba-187">对写入吞吐量的要求是否特别高？</span><span class="sxs-lookup"><span data-stu-id="5ddba-187">Are your write throughput requirements particularly high?</span></span> <span data-ttu-id="5ddba-188">如果是，请选择一个提供内存中表的选项。</span><span class="sxs-lookup"><span data-stu-id="5ddba-188">If yes, choose an option that provides in-memory tables.</span></span>

- <span data-ttu-id="5ddba-189">解决方案是否为多租户的？</span><span class="sxs-lookup"><span data-stu-id="5ddba-189">Is your solution multi-tenant?</span></span> <span data-ttu-id="5ddba-190">如果是，请考虑使用支持容量池的选项，在容量池中，多个数据库实例从弹性资源池拉取资源，而非每个数据库使用固定资源。</span><span class="sxs-lookup"><span data-stu-id="5ddba-190">If so, consider options that support capacity pools, where multiple database instances draw from an elastic pool of resources, instead of fixed resources per database.</span></span> <span data-ttu-id="5ddba-191">这可以帮助你更好地将容量分布到所有数据库实例中，并且可以使解决方案更经济高效。</span><span class="sxs-lookup"><span data-stu-id="5ddba-191">This can help you better distribute capacity across all database instances, and can make your solution more cost effective.</span></span>

- <span data-ttu-id="5ddba-192">是否需要在多个区域中以低延迟读取数据？</span><span class="sxs-lookup"><span data-stu-id="5ddba-192">Does your data need to be readable with low latency in multiple regions?</span></span> <span data-ttu-id="5ddba-193">如果是，请选择一个支持可读取的次要副本的选项。</span><span class="sxs-lookup"><span data-stu-id="5ddba-193">If yes, choose an option that supports readable secondary replicas.</span></span>

- <span data-ttu-id="5ddba-194">数据库是否需要跨地理区域高度可用？</span><span class="sxs-lookup"><span data-stu-id="5ddba-194">Does your database need to be highly available across geo-graphic regions?</span></span> <span data-ttu-id="5ddba-195">如果是，请选择一个支持异地复制的选项。</span><span class="sxs-lookup"><span data-stu-id="5ddba-195">If yes, choose an option that supports geographic replication.</span></span> <span data-ttu-id="5ddba-196">另外，请考虑使用支持从主要副本自动故障转移到次要副本的选项。</span><span class="sxs-lookup"><span data-stu-id="5ddba-196">Also consider the options that support automatic failover from the primary replica to a secondary replica.</span></span>

- <span data-ttu-id="5ddba-197">数据库是否有特定的安全需求？</span><span class="sxs-lookup"><span data-stu-id="5ddba-197">Does your database have specific security needs?</span></span> <span data-ttu-id="5ddba-198">如果是，请考虑使用提供了诸如行级安全性、数据掩码和透明数据加密等功能的选项。</span><span class="sxs-lookup"><span data-stu-id="5ddba-198">If yes, examine the options that provide capabilities like row level security, data masking, and transparent data encryption.</span></span>

## <a name="capability-matrix"></a><span data-ttu-id="5ddba-199">功能矩阵</span><span class="sxs-lookup"><span data-stu-id="5ddba-199">Capability matrix</span></span>

<span data-ttu-id="5ddba-200">以下各表汇总了功能上的关键差异。</span><span class="sxs-lookup"><span data-stu-id="5ddba-200">The following tables summarize the key differences in capabilities.</span></span>

### <a name="general-capabilities"></a><span data-ttu-id="5ddba-201">常规功能</span><span class="sxs-lookup"><span data-stu-id="5ddba-201">General capabilities</span></span>

<!-- markdownlint-disable MD033 -->

|                              | <span data-ttu-id="5ddba-202">Azure SQL 数据库</span><span class="sxs-lookup"><span data-stu-id="5ddba-202">Azure SQL Database</span></span> | <span data-ttu-id="5ddba-203">Azure 虚拟机中的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="5ddba-203">SQL Server in an Azure virtual machine</span></span> | <span data-ttu-id="5ddba-204">Azure Database for MySQL</span><span class="sxs-lookup"><span data-stu-id="5ddba-204">Azure Database for MySQL</span></span> | <span data-ttu-id="5ddba-205">Azure Database for PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="5ddba-205">Azure Database for PostgreSQL</span></span> |
|------------------------------|--------------------|----------------------------------------|--------------------------|-------------------------------|
|      <span data-ttu-id="5ddba-206">是托管服务</span><span class="sxs-lookup"><span data-stu-id="5ddba-206">Is Managed Service</span></span>      |        <span data-ttu-id="5ddba-207">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-207">Yes</span></span>         |                   <span data-ttu-id="5ddba-208">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-208">No</span></span>                   |           <span data-ttu-id="5ddba-209">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-209">Yes</span></span>            |              <span data-ttu-id="5ddba-210">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-210">Yes</span></span>              |
|       <span data-ttu-id="5ddba-211">在平台上运行</span><span class="sxs-lookup"><span data-stu-id="5ddba-211">Runs on Platform</span></span>       |        <span data-ttu-id="5ddba-212">不适用</span><span class="sxs-lookup"><span data-stu-id="5ddba-212">N/A</span></span>         |         <span data-ttu-id="5ddba-213">Windows、Linux、Docker</span><span class="sxs-lookup"><span data-stu-id="5ddba-213">Windows, Linux, Docker</span></span>         |           <span data-ttu-id="5ddba-214">不适用</span><span class="sxs-lookup"><span data-stu-id="5ddba-214">N/A</span></span>            |              <span data-ttu-id="5ddba-215">不适用</span><span class="sxs-lookup"><span data-stu-id="5ddba-215">N/A</span></span>              |
| <span data-ttu-id="5ddba-216">可编程性 <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="5ddba-216">Programmability <sup>1</sup></span></span> |   <span data-ttu-id="5ddba-217">T-SQL、.NET、R</span><span class="sxs-lookup"><span data-stu-id="5ddba-217">T-SQL, .NET, R</span></span>   |         <span data-ttu-id="5ddba-218">T-SQL、.NET、R、Python</span><span class="sxs-lookup"><span data-stu-id="5ddba-218">T-SQL, .NET, R, Python</span></span>         |  <span data-ttu-id="5ddba-219">T-SQL、.NET、R、Python</span><span class="sxs-lookup"><span data-stu-id="5ddba-219">T-SQL, .NET, R, Python</span></span>  |              <span data-ttu-id="5ddba-220">SQL</span><span class="sxs-lookup"><span data-stu-id="5ddba-220">SQL</span></span>              |

<!-- markdownlint-enable MD033 -->

<span data-ttu-id="5ddba-221">[1] 不包括客户端驱动程序支持，该支持允许通过许多编程语言连接到并使用 OLTP 数据存储。</span><span class="sxs-lookup"><span data-stu-id="5ddba-221">[1] Not including client driver support, which allows many programming languages to connect to and use the OLTP data store.</span></span>

### <a name="scalability-capabilities"></a><span data-ttu-id="5ddba-222">可伸缩性功能</span><span class="sxs-lookup"><span data-stu-id="5ddba-222">Scalability capabilities</span></span>

| | <span data-ttu-id="5ddba-223">Azure SQL 数据库</span><span class="sxs-lookup"><span data-stu-id="5ddba-223">Azure SQL Database</span></span> | <span data-ttu-id="5ddba-224">Azure 虚拟机中的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="5ddba-224">SQL Server in an Azure virtual machine</span></span>| <span data-ttu-id="5ddba-225">Azure Database for MySQL</span><span class="sxs-lookup"><span data-stu-id="5ddba-225">Azure Database for MySQL</span></span> | <span data-ttu-id="5ddba-226">Azure Database for PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="5ddba-226">Azure Database for PostgreSQL</span></span>|
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="5ddba-227">最大数据库实例大小</span><span class="sxs-lookup"><span data-stu-id="5ddba-227">Maximum database instance size</span></span> | [<span data-ttu-id="5ddba-228">4 TB</span><span class="sxs-lookup"><span data-stu-id="5ddba-228">4 TB</span></span>](/azure/sql-database/sql-database-resource-limits) | <span data-ttu-id="5ddba-229">256 TB</span><span class="sxs-lookup"><span data-stu-id="5ddba-229">256 TB</span></span> | [<span data-ttu-id="5ddba-230">1 TB</span><span class="sxs-lookup"><span data-stu-id="5ddba-230">1 TB</span></span>](/azure/mysql/concepts-limits) | [<span data-ttu-id="5ddba-231">1 TB</span><span class="sxs-lookup"><span data-stu-id="5ddba-231">1 TB</span></span>](/azure/postgresql/concepts-limits) |
| <span data-ttu-id="5ddba-232">支持容量池</span><span class="sxs-lookup"><span data-stu-id="5ddba-232">Supports capacity pools</span></span>  | <span data-ttu-id="5ddba-233">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-233">Yes</span></span> | <span data-ttu-id="5ddba-234">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-234">Yes</span></span> | <span data-ttu-id="5ddba-235">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-235">No</span></span> | <span data-ttu-id="5ddba-236">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-236">No</span></span> |
| <span data-ttu-id="5ddba-237">支持群集横向扩展</span><span class="sxs-lookup"><span data-stu-id="5ddba-237">Supports clusters scale out</span></span>  | <span data-ttu-id="5ddba-238">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-238">No</span></span> | <span data-ttu-id="5ddba-239">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-239">Yes</span></span> | <span data-ttu-id="5ddba-240">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-240">No</span></span> | <span data-ttu-id="5ddba-241">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-241">No</span></span> |
| <span data-ttu-id="5ddba-242">动态可伸缩性（纵向扩展）</span><span class="sxs-lookup"><span data-stu-id="5ddba-242">Dynamic scalability (scale up)</span></span>  | <span data-ttu-id="5ddba-243">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-243">Yes</span></span> | <span data-ttu-id="5ddba-244">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-244">No</span></span> | <span data-ttu-id="5ddba-245">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-245">Yes</span></span> | <span data-ttu-id="5ddba-246">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-246">Yes</span></span> |

### <a name="analytic-workload-capabilities"></a><span data-ttu-id="5ddba-247">分析工作负荷功能</span><span class="sxs-lookup"><span data-stu-id="5ddba-247">Analytic workload capabilities</span></span>

| | <span data-ttu-id="5ddba-248">Azure SQL 数据库</span><span class="sxs-lookup"><span data-stu-id="5ddba-248">Azure SQL Database</span></span> | <span data-ttu-id="5ddba-249">Azure 虚拟机中的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="5ddba-249">SQL Server in an Azure virtual machine</span></span>| <span data-ttu-id="5ddba-250">Azure Database for MySQL</span><span class="sxs-lookup"><span data-stu-id="5ddba-250">Azure Database for MySQL</span></span> | <span data-ttu-id="5ddba-251">Azure Database for PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="5ddba-251">Azure Database for PostgreSQL</span></span>|
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="5ddba-252">临时表</span><span class="sxs-lookup"><span data-stu-id="5ddba-252">Temporal tables</span></span> | <span data-ttu-id="5ddba-253">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-253">Yes</span></span> | <span data-ttu-id="5ddba-254">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-254">Yes</span></span> | <span data-ttu-id="5ddba-255">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-255">No</span></span> | <span data-ttu-id="5ddba-256">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-256">No</span></span> |
| <span data-ttu-id="5ddba-257">内存中（内存优化的）表</span><span class="sxs-lookup"><span data-stu-id="5ddba-257">In-memory (memory-optimized) tables</span></span> | <span data-ttu-id="5ddba-258">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-258">Yes</span></span> | <span data-ttu-id="5ddba-259">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-259">Yes</span></span> | <span data-ttu-id="5ddba-260">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-260">No</span></span> | <span data-ttu-id="5ddba-261">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-261">No</span></span> |
| <span data-ttu-id="5ddba-262">列存储支持</span><span class="sxs-lookup"><span data-stu-id="5ddba-262">Columnstore support</span></span> | <span data-ttu-id="5ddba-263">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-263">Yes</span></span> | <span data-ttu-id="5ddba-264">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-264">Yes</span></span> | <span data-ttu-id="5ddba-265">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-265">No</span></span> | <span data-ttu-id="5ddba-266">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-266">No</span></span> |
| <span data-ttu-id="5ddba-267">自适应查询处理</span><span class="sxs-lookup"><span data-stu-id="5ddba-267">Adaptive query processing</span></span> | <span data-ttu-id="5ddba-268">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-268">Yes</span></span> | <span data-ttu-id="5ddba-269">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-269">Yes</span></span> | <span data-ttu-id="5ddba-270">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-270">No</span></span> | <span data-ttu-id="5ddba-271">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-271">No</span></span> |

### <a name="availability-capabilities"></a><span data-ttu-id="5ddba-272">可用性功能</span><span class="sxs-lookup"><span data-stu-id="5ddba-272">Availability capabilities</span></span>

| | <span data-ttu-id="5ddba-273">Azure SQL 数据库</span><span class="sxs-lookup"><span data-stu-id="5ddba-273">Azure SQL Database</span></span> | <span data-ttu-id="5ddba-274">Azure 虚拟机中的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="5ddba-274">SQL Server in an Azure virtual machine</span></span>| <span data-ttu-id="5ddba-275">Azure Database for MySQL</span><span class="sxs-lookup"><span data-stu-id="5ddba-275">Azure Database for MySQL</span></span> | <span data-ttu-id="5ddba-276">Azure Database for PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="5ddba-276">Azure Database for PostgreSQL</span></span>|
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="5ddba-277">可读次要副本</span><span class="sxs-lookup"><span data-stu-id="5ddba-277">Readable secondaries</span></span> | <span data-ttu-id="5ddba-278">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-278">Yes</span></span> | <span data-ttu-id="5ddba-279">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-279">Yes</span></span> | <span data-ttu-id="5ddba-280">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-280">No</span></span> | <span data-ttu-id="5ddba-281">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-281">No</span></span> |
| <span data-ttu-id="5ddba-282">异地复制</span><span class="sxs-lookup"><span data-stu-id="5ddba-282">Geographic replication</span></span> | <span data-ttu-id="5ddba-283">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-283">Yes</span></span> | <span data-ttu-id="5ddba-284">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-284">Yes</span></span> | <span data-ttu-id="5ddba-285">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-285">No</span></span> | <span data-ttu-id="5ddba-286">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-286">No</span></span> |
| <span data-ttu-id="5ddba-287">自动故障转移到次要副本</span><span class="sxs-lookup"><span data-stu-id="5ddba-287">Automatic failover to secondary</span></span> | <span data-ttu-id="5ddba-288">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-288">Yes</span></span> | <span data-ttu-id="5ddba-289">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-289">No</span></span> | <span data-ttu-id="5ddba-290">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-290">No</span></span> | <span data-ttu-id="5ddba-291">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-291">No</span></span>|
| <span data-ttu-id="5ddba-292">时间点还原</span><span class="sxs-lookup"><span data-stu-id="5ddba-292">Point-in-time restore</span></span> | <span data-ttu-id="5ddba-293">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-293">Yes</span></span> | <span data-ttu-id="5ddba-294">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-294">Yes</span></span> | <span data-ttu-id="5ddba-295">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-295">Yes</span></span> | <span data-ttu-id="5ddba-296">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-296">Yes</span></span> |

### <a name="security-capabilities"></a><span data-ttu-id="5ddba-297">安全功能</span><span class="sxs-lookup"><span data-stu-id="5ddba-297">Security capabilities</span></span>

|                                                                                                             | <span data-ttu-id="5ddba-298">Azure SQL 数据库</span><span class="sxs-lookup"><span data-stu-id="5ddba-298">Azure SQL Database</span></span> | <span data-ttu-id="5ddba-299">Azure 虚拟机中的 SQL Server</span><span class="sxs-lookup"><span data-stu-id="5ddba-299">SQL Server in an Azure virtual machine</span></span> | <span data-ttu-id="5ddba-300">Azure Database for MySQL</span><span class="sxs-lookup"><span data-stu-id="5ddba-300">Azure Database for MySQL</span></span> | <span data-ttu-id="5ddba-301">Azure Database for PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="5ddba-301">Azure Database for PostgreSQL</span></span> |
|-------------------------------------------------------------------------------------------------------------|--------------------|----------------------------------------|--------------------------|-------------------------------|
|                                             <span data-ttu-id="5ddba-302">行级安全性</span><span class="sxs-lookup"><span data-stu-id="5ddba-302">Row level security</span></span>                                              |        <span data-ttu-id="5ddba-303">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-303">Yes</span></span>         |                  <span data-ttu-id="5ddba-304">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-304">Yes</span></span>                   |           <span data-ttu-id="5ddba-305">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-305">Yes</span></span>            |              <span data-ttu-id="5ddba-306">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-306">Yes</span></span>              |
|                                                <span data-ttu-id="5ddba-307">数据屏蔽</span><span class="sxs-lookup"><span data-stu-id="5ddba-307">Data masking</span></span>                                                 |        <span data-ttu-id="5ddba-308">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-308">Yes</span></span>         |                  <span data-ttu-id="5ddba-309">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-309">Yes</span></span>                   |            <span data-ttu-id="5ddba-310">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-310">No</span></span>            |              <span data-ttu-id="5ddba-311">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-311">No</span></span>               |
|                                         <span data-ttu-id="5ddba-312">透明数据加密</span><span class="sxs-lookup"><span data-stu-id="5ddba-312">Transparent data encryption</span></span>                                         |        <span data-ttu-id="5ddba-313">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-313">Yes</span></span>         |                  <span data-ttu-id="5ddba-314">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-314">Yes</span></span>                   |           <span data-ttu-id="5ddba-315">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-315">Yes</span></span>            |              <span data-ttu-id="5ddba-316">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-316">Yes</span></span>              |
|                                  <span data-ttu-id="5ddba-317">限制访问，仅限特定 IP 地址进行访问</span><span class="sxs-lookup"><span data-stu-id="5ddba-317">Restrict access to specific IP addresses</span></span>                                   |        <span data-ttu-id="5ddba-318">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-318">Yes</span></span>         |                  <span data-ttu-id="5ddba-319">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-319">Yes</span></span>                   |           <span data-ttu-id="5ddba-320">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-320">Yes</span></span>            |              <span data-ttu-id="5ddba-321">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-321">Yes</span></span>              |
|                                  <span data-ttu-id="5ddba-322">限制访问，仅允许访问 VNET</span><span class="sxs-lookup"><span data-stu-id="5ddba-322">Restrict access to allow VNET access only</span></span>                                  |        <span data-ttu-id="5ddba-323">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-323">Yes</span></span>         |                  <span data-ttu-id="5ddba-324">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-324">Yes</span></span>                   |            <span data-ttu-id="5ddba-325">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-325">No</span></span>            |              <span data-ttu-id="5ddba-326">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-326">No</span></span>               |
|                                    <span data-ttu-id="5ddba-327">Azure Active Directory 身份验证</span><span class="sxs-lookup"><span data-stu-id="5ddba-327">Azure Active Directory authentication</span></span>                                    |        <span data-ttu-id="5ddba-328">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-328">Yes</span></span>         |                  <span data-ttu-id="5ddba-329">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-329">Yes</span></span>                   |            <span data-ttu-id="5ddba-330">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-330">No</span></span>            |              <span data-ttu-id="5ddba-331">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-331">No</span></span>               |
|                                       <span data-ttu-id="5ddba-332">Active Directory 身份验证</span><span class="sxs-lookup"><span data-stu-id="5ddba-332">Active Directory authentication</span></span>                                       |         <span data-ttu-id="5ddba-333">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-333">No</span></span>         |                  <span data-ttu-id="5ddba-334">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-334">Yes</span></span>                   |            <span data-ttu-id="5ddba-335">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-335">No</span></span>            |              <span data-ttu-id="5ddba-336">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-336">No</span></span>               |
|                                         <span data-ttu-id="5ddba-337">多重身份验证</span><span class="sxs-lookup"><span data-stu-id="5ddba-337">Multi-factor authentication</span></span>                                         |        <span data-ttu-id="5ddba-338">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-338">Yes</span></span>         |                  <span data-ttu-id="5ddba-339">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-339">Yes</span></span>                   |            <span data-ttu-id="5ddba-340">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-340">No</span></span>            |              <span data-ttu-id="5ddba-341">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-341">No</span></span>               |
| <span data-ttu-id="5ddba-342">支持[始终加密](/sql/relational-databases/security/encryption/always-encrypted-database-engine)</span><span class="sxs-lookup"><span data-stu-id="5ddba-342">Supports [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine)</span></span> |        <span data-ttu-id="5ddba-343">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-343">Yes</span></span>         |                  <span data-ttu-id="5ddba-344">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-344">Yes</span></span>                   |           <span data-ttu-id="5ddba-345">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-345">Yes</span></span>            |              <span data-ttu-id="5ddba-346">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-346">No</span></span>               |
|                                                 <span data-ttu-id="5ddba-347">专用 IP</span><span class="sxs-lookup"><span data-stu-id="5ddba-347">Private IP</span></span>                                                  |         <span data-ttu-id="5ddba-348">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-348">No</span></span>         |                  <span data-ttu-id="5ddba-349">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-349">Yes</span></span>                   |           <span data-ttu-id="5ddba-350">是</span><span class="sxs-lookup"><span data-stu-id="5ddba-350">Yes</span></span>            |              <span data-ttu-id="5ddba-351">否</span><span class="sxs-lookup"><span data-stu-id="5ddba-351">No</span></span>               |
