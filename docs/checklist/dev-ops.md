---
title: DevOps 清单
titleSuffix: Azure Design Review Framework
description: 提供与 DevOps 相关指南的清单。
author: dragon119
ms.date: 01/10/2018
ms.topic: checklist
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.custom: checklist
ms.openlocfilehash: 1a000c811cce57cc9b1fcda84d0eb7e2a1312aca
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/20/2019
ms.locfileid: "58243378"
---
# <a name="devops-checklist"></a><span data-ttu-id="50939-103">DevOps 查检表</span><span class="sxs-lookup"><span data-stu-id="50939-103">DevOps Checklist</span></span>

<span data-ttu-id="50939-104">DevOps 是指将开发、质量保证和 IT 运营集成到统一的环境以及软件交付过程中。</span><span class="sxs-lookup"><span data-stu-id="50939-104">DevOps is the integration of development, quality assurance, and IT operations into a unified culture and set of processes for delivering software.</span></span> <span data-ttu-id="50939-105">评估 DevOps 的环境和过程时，可从此查检表着手。</span><span class="sxs-lookup"><span data-stu-id="50939-105">Use this checklist as a starting point to assess your DevOps culture and process.</span></span>

## <a name="culture"></a><span data-ttu-id="50939-106">环境</span><span class="sxs-lookup"><span data-stu-id="50939-106">Culture</span></span>

<span data-ttu-id="50939-107">**确保不同组织和团队中的业务一致性。**</span><span class="sxs-lookup"><span data-stu-id="50939-107">**Ensure business alignment across organizations and teams.**</span></span> <span data-ttu-id="50939-108">组织中发生资源、用途、目标和优先级冲突可能会给成功的运营带来风险。</span><span class="sxs-lookup"><span data-stu-id="50939-108">Conflicts over resources, purpose, goals, and priorities within an organization can be a risk to successful operations.</span></span> <span data-ttu-id="50939-109">请确保业务、开发和运营团队的目标一致。</span><span class="sxs-lookup"><span data-stu-id="50939-109">Ensure that the business, development, and operations teams are all aligned.</span></span>

<span data-ttu-id="50939-110">**确保整个团队了解软件生命周期。**</span><span class="sxs-lookup"><span data-stu-id="50939-110">**Ensure the entire team understands the software lifecycle.**</span></span> <span data-ttu-id="50939-111">团队需要了解应用程序的整个生命周期，以及应用程序当前所处的生命周期阶段。</span><span class="sxs-lookup"><span data-stu-id="50939-111">Your team needs to understand the overall lifecycle of the application, and which part of the lifecycle the application is currently in.</span></span> <span data-ttu-id="50939-112">这可以帮助所有团队成员知道他们目前应该做些什么，以及应该要为将来规划和准备什么。</span><span class="sxs-lookup"><span data-stu-id="50939-112">This helps all team members know what they should be doing now, and what they should be planning and preparing for in the future.</span></span>

<span data-ttu-id="50939-113">**缩短周期时间。**</span><span class="sxs-lookup"><span data-stu-id="50939-113">**Reduce cycle time.**</span></span> <span data-ttu-id="50939-114">目的是尽量缩短从创意到开发出可用软件所花费的时间。</span><span class="sxs-lookup"><span data-stu-id="50939-114">Aim to minimize the time it takes to move from ideas to usable developed software.</span></span> <span data-ttu-id="50939-115">限制各个版本的大小和范围，以保持较低的测试负担。</span><span class="sxs-lookup"><span data-stu-id="50939-115">Limit the size and scope of individual releases to keep the test burden low.</span></span> <span data-ttu-id="50939-116">尽量将生成、测试、配置和部署过程自动化。</span><span class="sxs-lookup"><span data-stu-id="50939-116">Automate the build, test, configuration, and deployment processes whenever possible.</span></span> <span data-ttu-id="50939-117">清除开发人员之间以及开发人员与运营人员之间的沟通障碍。</span><span class="sxs-lookup"><span data-stu-id="50939-117">Clear any obstacles to communication among developers, and between developers and operations.</span></span>

<span data-ttu-id="50939-118">**评审并改进过程。**</span><span class="sxs-lookup"><span data-stu-id="50939-118">**Review and improve processes.**</span></span> <span data-ttu-id="50939-119">过程和流程（不管是自动的还是手动的）永远不是最终性的。</span><span class="sxs-lookup"><span data-stu-id="50939-119">Your processes and procedures, both automated and manual, are never final.</span></span> <span data-ttu-id="50939-120">建立当前工作流、流程和文档的定期评审制度，并制定持续改进的目标。</span><span class="sxs-lookup"><span data-stu-id="50939-120">Set up regular reviews of current workflows, procedures, and documentation, with a goal of continual improvement.</span></span>

<span data-ttu-id="50939-121">**做出前瞻性的规划。**</span><span class="sxs-lookup"><span data-stu-id="50939-121">**Do proactive planning.**</span></span> <span data-ttu-id="50939-122">针对故障做出前瞻性的规划。</span><span class="sxs-lookup"><span data-stu-id="50939-122">Proactively plan for failure.</span></span> <span data-ttu-id="50939-123">制定过程以快速识别出现的问题，将问题转达给适当的团队成员予以解决，并确认解决方法。</span><span class="sxs-lookup"><span data-stu-id="50939-123">Have processes in place to quickly identify issues when they occur, escalate to the correct team members to fix, and confirm resolution.</span></span>

<span data-ttu-id="50939-124">**从故障中学习经验。**</span><span class="sxs-lookup"><span data-stu-id="50939-124">**Learn from failures.**</span></span> <span data-ttu-id="50939-125">故障不可避免，但必须在故障中学到经验教训，以免故障重复发生。</span><span class="sxs-lookup"><span data-stu-id="50939-125">Failures are inevitable, but it's important to learn from failures to avoid repeating them.</span></span> <span data-ttu-id="50939-126">如果发生操作性的故障，应该围绕问题进行会审，阐述原因和解决方法，并分享学到的经验教训。</span><span class="sxs-lookup"><span data-stu-id="50939-126">If an operational failure occurs, triage the issue, document the cause and solution, and share any lessons that were learned.</span></span> <span data-ttu-id="50939-127">尽量更新生成过程，以便将来发生此类故障时可以自动检测得到。</span><span class="sxs-lookup"><span data-stu-id="50939-127">Whenever possible, update your build processes to automatically detect that kind of failure in the future.</span></span>

<span data-ttu-id="50939-128">**优化速度并收集数据。**</span><span class="sxs-lookup"><span data-stu-id="50939-128">**Optimize for speed and collect data.**</span></span> <span data-ttu-id="50939-129">规划的每种改进方案都是基于假设。</span><span class="sxs-lookup"><span data-stu-id="50939-129">Every planned improvement is a hypothesis.</span></span> <span data-ttu-id="50939-130">请尽量以最慢的步调行事。</span><span class="sxs-lookup"><span data-stu-id="50939-130">Work in the smallest increments possible.</span></span> <span data-ttu-id="50939-131">将新的思路视为试验。</span><span class="sxs-lookup"><span data-stu-id="50939-131">Treat new ideas as experiments.</span></span> <span data-ttu-id="50939-132">检测试验，以便可以收集生产数据来评估这些试验的有效性。</span><span class="sxs-lookup"><span data-stu-id="50939-132">Instrument the experiments so that you can collect production data to assess their effectiveness.</span></span> <span data-ttu-id="50939-133">如果假设有误，应准备好快速失败。</span><span class="sxs-lookup"><span data-stu-id="50939-133">Be prepared to fail fast if the hypothesis is wrong.</span></span>

<span data-ttu-id="50939-134">**花费足够的时间学习。**</span><span class="sxs-lookup"><span data-stu-id="50939-134">**Allow time for learning.**</span></span> <span data-ttu-id="50939-135">失败和成功都是很好的学习机会。</span><span class="sxs-lookup"><span data-stu-id="50939-135">Both failures and successes provide good opportunities for learning.</span></span> <span data-ttu-id="50939-136">在转移到新项目之前，请花费足够的时间来收集重要的课程，并确保这些课程可由团队吸收。</span><span class="sxs-lookup"><span data-stu-id="50939-136">Before moving on to new projects, allow enough time to gather the important lessons, and make sure those lessons are absorbed by your team.</span></span> <span data-ttu-id="50939-137">此外，为团队提供一些时间来培养技能、展开试验，以及学习新的工具和技术。</span><span class="sxs-lookup"><span data-stu-id="50939-137">Also give the team the time to build skills, experiment, and learn about new tools and techniques.</span></span>

<span data-ttu-id="50939-138">**阐述操作。**</span><span class="sxs-lookup"><span data-stu-id="50939-138">**Document operations.**</span></span> <span data-ttu-id="50939-139">以等同于产品代码的质量阐述所有工具、过程和自动化任务的运行方法。</span><span class="sxs-lookup"><span data-stu-id="50939-139">Document all tools, processes, and automated tasks with the same level of quality as your product code.</span></span> <span data-ttu-id="50939-140">阐述所支持的任何系统的当前设计和体系结构，以及恢复过程和其他维护流程。</span><span class="sxs-lookup"><span data-stu-id="50939-140">Document the current design and architecture of any systems you support, along with recovery processes and other maintenance procedures.</span></span> <span data-ttu-id="50939-141">专注于实际执行的步骤，而不是理论最佳的过程。</span><span class="sxs-lookup"><span data-stu-id="50939-141">Focus on the steps you actually perform, not theoretically optimal processes.</span></span> <span data-ttu-id="50939-142">定期评审并更新文档。</span><span class="sxs-lookup"><span data-stu-id="50939-142">Regularly review and update the documentation.</span></span> <span data-ttu-id="50939-143">对于代码，请确保包含有意义的注释，尤其是在公共 API 中；尽量使用工具自动生成代码文档。</span><span class="sxs-lookup"><span data-stu-id="50939-143">For code, make sure that meaningful comments are included, especially in public APIs, and use tools to automatically generate code documentation whenever possible.</span></span>

<span data-ttu-id="50939-144">**分享知识。**</span><span class="sxs-lookup"><span data-stu-id="50939-144">**Share knowledge.**</span></span> <span data-ttu-id="50939-145">文档只对知道它存在并可以找到它的人员才有作用。</span><span class="sxs-lookup"><span data-stu-id="50939-145">Documentation is only useful if people know that it exists and can find it.</span></span> <span data-ttu-id="50939-146">请确保文档组织有序且能轻松找到。</span><span class="sxs-lookup"><span data-stu-id="50939-146">Ensure the documentation is organized and easily discoverable.</span></span> <span data-ttu-id="50939-147">创新方式：使用牛皮纸袋（非正式演示）、视频或新闻稿分享知识。</span><span class="sxs-lookup"><span data-stu-id="50939-147">Be creative: Use brown bags (informal presentations), videos, or newsletters to share knowledge.</span></span>

## <a name="development"></a><span data-ttu-id="50939-148">开发</span><span class="sxs-lookup"><span data-stu-id="50939-148">Development</span></span>

<span data-ttu-id="50939-149">**为开发人员提供类似于生产的环境。**</span><span class="sxs-lookup"><span data-stu-id="50939-149">**Provide developers with production-like environments.**</span></span> <span data-ttu-id="50939-150">如果开发和测试环境与生产环境不相符，则很难测试和诊断问题。</span><span class="sxs-lookup"><span data-stu-id="50939-150">If development and test environments don't match the production environment, it is hard to test and diagnose problems.</span></span> <span data-ttu-id="50939-151">因此，应该让开发和测试环境尽量接近生产环境。</span><span class="sxs-lookup"><span data-stu-id="50939-151">Therefore, keep development and test environments as close to the production environment as possible.</span></span> <span data-ttu-id="50939-152">确保测试数据与生产环境中使用的数据一致，即使测试数据是示例数据而不是实际生产数据（出于隐私或符合性原因）。</span><span class="sxs-lookup"><span data-stu-id="50939-152">Make sure that test data is consistent with the data used in production, even if it's sample data and not real production data (for privacy or compliance reasons).</span></span> <span data-ttu-id="50939-153">计划生成并匿名化示例测试数据。</span><span class="sxs-lookup"><span data-stu-id="50939-153">Plan to generate and anonymize sample test data.</span></span>

<span data-ttu-id="50939-154">**确保所有已获授权的团队成员可以预配基础结构和部署应用程序。**</span><span class="sxs-lookup"><span data-stu-id="50939-154">**Ensure that all authorized team members can provision infrastructure and deploy the application.**</span></span> <span data-ttu-id="50939-155">设置类似于生产环境中所用的资源和部署应用程序不应涉及复杂的手动任务，或者要求对系统有深层的技术知识。</span><span class="sxs-lookup"><span data-stu-id="50939-155">Setting up production-like resources and deploying the application should not involve complicated manual tasks or detailed technical knowledge of the system.</span></span> <span data-ttu-id="50939-156">具有适当权限的任何人应该能够创建或部署类似于生产环境中所用的资源，而无需求助于运营团队。</span><span class="sxs-lookup"><span data-stu-id="50939-156">Anyone with the right permissions should be able to create or deploy production-like resources without going to the operations team.</span></span>

> <span data-ttu-id="50939-157">这项建议并不意味着任何人都可以将实时更新推送到生产部署。</span><span class="sxs-lookup"><span data-stu-id="50939-157">This recommendation doesn't imply that anyone can push live updates to the production deployment.</span></span> <span data-ttu-id="50939-158">其目的是减少开发和 QA 团队在创建类似于生产的环境时所产生的矛盾。</span><span class="sxs-lookup"><span data-stu-id="50939-158">It's about reducing friction for the development and QA teams to create production-like environments.</span></span>

<span data-ttu-id="50939-159">**检测应用程序以获取见解。**</span><span class="sxs-lookup"><span data-stu-id="50939-159">**Instrument the application for insight.**</span></span> <span data-ttu-id="50939-160">若要了解应用程序的运行状况，需要知道它的执行情况，以及是否出现了任何错误或问题。</span><span class="sxs-lookup"><span data-stu-id="50939-160">To understand the health of your application, you need to know how it's performing and whether it's experiencing any errors or problems.</span></span> <span data-ttu-id="50939-161">始终将检测包含为一项设计要求，并且一开始就在应用程序中内置检测功能。</span><span class="sxs-lookup"><span data-stu-id="50939-161">Always include instrumentation as a design requirement, and build the instrumentation into the application from the start.</span></span> <span data-ttu-id="50939-162">检测必须包括用于分析根本原因的事件日志记录，同时还应包括用于监视应用程序总体运行状况和使用情况的遥测功能与指标。</span><span class="sxs-lookup"><span data-stu-id="50939-162">Instrumentation must include event logging for root cause analysis, but also telemetry and metrics to monitor the overall health and usage of the application.</span></span>

<span data-ttu-id="50939-163">**跟踪技术债务。**</span><span class="sxs-lookup"><span data-stu-id="50939-163">**Track your technical debt.**</span></span> <span data-ttu-id="50939-164">在许多项目中，发布计划的优先级在一定程度上高于代码质量。</span><span class="sxs-lookup"><span data-stu-id="50939-164">In many projects, release schedules can get prioritized over code quality to one degree or another.</span></span> <span data-ttu-id="50939-165">如果存在这种情况，请始终保持跟踪。</span><span class="sxs-lookup"><span data-stu-id="50939-165">Always keep track when this occurs.</span></span> <span data-ttu-id="50939-166">阐述所有快捷做法或其他非最佳实施方法，并计划在将来的某个时间重新审视这些问题。</span><span class="sxs-lookup"><span data-stu-id="50939-166">Document any shortcuts or other nonoptimal implementations, and schedule time in the future to revisit these issues.</span></span>

<span data-ttu-id="50939-167">**考虑将更新直接推送到生产环境。**</span><span class="sxs-lookup"><span data-stu-id="50939-167">**Consider pushing updates directly to production.**</span></span> <span data-ttu-id="50939-168">为了缩短总体发布周期时间，请考虑将适当测试的代码提交内容直接推送到生产环境。</span><span class="sxs-lookup"><span data-stu-id="50939-168">To reduce the overall release cycle time, consider pushing properly tested code commits directly to production.</span></span> <span data-ttu-id="50939-169">使用[功能切换][feature-toggles]来控制要启用哪些功能。</span><span class="sxs-lookup"><span data-stu-id="50939-169">Use [feature toggles][feature-toggles] to control which features are enabled.</span></span> <span data-ttu-id="50939-170">这样，就可以使用切换机制启用或禁用功能，快速从开发转移到发布阶段。</span><span class="sxs-lookup"><span data-stu-id="50939-170">This allows you to move from development to release quickly, using the toggles to enable or disable features.</span></span> <span data-ttu-id="50939-171">执行 [Canary 发布][canary-release]（将特定的功能部署到生产环境的一部分区域）等测试时，切换机制也很有用。</span><span class="sxs-lookup"><span data-stu-id="50939-171">Toggles are also useful when performing tests such as [canary releases][canary-release], where a particular feature is deployed to a subset of the production environment.</span></span>

## <a name="testing"></a><span data-ttu-id="50939-172">测试</span><span class="sxs-lookup"><span data-stu-id="50939-172">Testing</span></span>

<span data-ttu-id="50939-173">**自动测试。**</span><span class="sxs-lookup"><span data-stu-id="50939-173">**Automate testing.**</span></span> <span data-ttu-id="50939-174">手动测试软件的过程非常繁琐且容易出错。</span><span class="sxs-lookup"><span data-stu-id="50939-174">Manually testing software is tedious and susceptible to error.</span></span> <span data-ttu-id="50939-175">请将常见的测试任务自动化，并将测试集成到生成过程中。</span><span class="sxs-lookup"><span data-stu-id="50939-175">Automate common testing tasks and integrate the tests into your build processes.</span></span> <span data-ttu-id="50939-176">自动测试可确保测试覆盖范围一致，且能重现问题。</span><span class="sxs-lookup"><span data-stu-id="50939-176">Automated testing ensures consistent test coverage and reproducibility.</span></span> <span data-ttu-id="50939-177">此外，应通过自动化工具执行集成式 UI 测试。</span><span class="sxs-lookup"><span data-stu-id="50939-177">Integrated UI tests should also be performed by an automated tool.</span></span> <span data-ttu-id="50939-178">Azure 提供开发和测试资源，可帮助配置和执行测试。</span><span class="sxs-lookup"><span data-stu-id="50939-178">Azure offers development and test resources that can help you configure and execute testing.</span></span> <span data-ttu-id="50939-179">有关详细信息，请参阅[开发和测试][dev-test]。</span><span class="sxs-lookup"><span data-stu-id="50939-179">For more information, see [Development and test][dev-test].</span></span>

<span data-ttu-id="50939-180">**故障测试。**</span><span class="sxs-lookup"><span data-stu-id="50939-180">**Test for failures.**</span></span> <span data-ttu-id="50939-181">如果系统无法连接到服务，它会如何做出响应？</span><span class="sxs-lookup"><span data-stu-id="50939-181">If a system can't connect to a service, how does it respond?</span></span> <span data-ttu-id="50939-182">服务再次可用后，系统能否恢复？</span><span class="sxs-lookup"><span data-stu-id="50939-182">Can it recover once the service is available again?</span></span> <span data-ttu-id="50939-183">将故障注入测试规定为测试和过渡环境评审的标准组成部分。</span><span class="sxs-lookup"><span data-stu-id="50939-183">Make fault injection testing a standard part of review on test and staging environments.</span></span> <span data-ttu-id="50939-184">如果测试过程和做法比较健全，请考虑在生产环境中运行这些测试。</span><span class="sxs-lookup"><span data-stu-id="50939-184">When your test process and practices are mature, consider running these tests in production.</span></span>

<span data-ttu-id="50939-185">**在生产环境中测试。**</span><span class="sxs-lookup"><span data-stu-id="50939-185">**Test in production.**</span></span> <span data-ttu-id="50939-186">部署到生产环境并不是发布过程的最终结果。</span><span class="sxs-lookup"><span data-stu-id="50939-186">The release process doesn't end with deployment to production.</span></span> <span data-ttu-id="50939-187">请安排好测试，确保部署的代码可按预期方式运行。</span><span class="sxs-lookup"><span data-stu-id="50939-187">Have tests in place to ensure that deployed code works as expected.</span></span> <span data-ttu-id="50939-188">对于不经常更新的部署，请将生产测试安排为日常性的维护工作。</span><span class="sxs-lookup"><span data-stu-id="50939-188">For deployments that are infrequently updated, schedule production testing as a regular part of maintenance.</span></span>

<span data-ttu-id="50939-189">**自动执行性能测试以提前识别性能问题。**</span><span class="sxs-lookup"><span data-stu-id="50939-189">**Automate performance testing to identify performance issues early.**</span></span> <span data-ttu-id="50939-190">严重性能问题所造成的影响有时无非就是导致代码出现 bug。</span><span class="sxs-lookup"><span data-stu-id="50939-190">The impact of a serious performance issue can be just as severe as a bug in the code.</span></span> <span data-ttu-id="50939-191">尽管自动化的功能测试可以防止应用程序出现 bug，但可能无法检测性能问题。</span><span class="sxs-lookup"><span data-stu-id="50939-191">While automated functional tests can prevent application bugs, they might not detect performance problems.</span></span> <span data-ttu-id="50939-192">根据延迟、加载时间和资源用量等指标定义可接受的性能目标。</span><span class="sxs-lookup"><span data-stu-id="50939-192">Define acceptable performance goals for metrics like latency, load times, and resource usage.</span></span> <span data-ttu-id="50939-193">在发布管道中包含自动化性能测试，确保应用程序符合这些目标。</span><span class="sxs-lookup"><span data-stu-id="50939-193">Include automated performance tests in your release pipeline, to make sure the application meets those goals.</span></span>

<span data-ttu-id="50939-194">**执行容量测试。**</span><span class="sxs-lookup"><span data-stu-id="50939-194">**Perform capacity testing.**</span></span> <span data-ttu-id="50939-195">应用程序可能在测试条件下可正常工作，但由于规模或资源限制，在生产环境中却出现问题。</span><span class="sxs-lookup"><span data-stu-id="50939-195">An application might work fine under test conditions, and then have problems in production due to scale or resource limitations.</span></span> <span data-ttu-id="50939-196">始终定义最大预期容量和用量限制。</span><span class="sxs-lookup"><span data-stu-id="50939-196">Always define the maximum expected capacity and usage limits.</span></span> <span data-ttu-id="50939-197">通过测试来确保应用程序可以处理这些限制，同时，测试在超过这些限制时会发生的情况。</span><span class="sxs-lookup"><span data-stu-id="50939-197">Test to make sure the application can handle those limits, but also test what happens when those limits are exceeded.</span></span> <span data-ttu-id="50939-198">应定期执行容量测试。</span><span class="sxs-lookup"><span data-stu-id="50939-198">Capacity testing should be performed at regular intervals.</span></span>

<span data-ttu-id="50939-199">完成初始发布后，每当对生产代码进行更新后，都应该运行性能和容量测试。</span><span class="sxs-lookup"><span data-stu-id="50939-199">After the initial release, you should run performance and capacity tests whenever updates are made to production code.</span></span> <span data-ttu-id="50939-200">使用历史数据微调测试，并确定需要执行哪种类型的测试。</span><span class="sxs-lookup"><span data-stu-id="50939-200">Use historical data to fine tune tests and to determine what types of tests need to be performed.</span></span>

<span data-ttu-id="50939-201">**执行自动安全渗透测试。**</span><span class="sxs-lookup"><span data-stu-id="50939-201">**Perform automated security penetration testing.**</span></span> <span data-ttu-id="50939-202">确保应用程序的安全与测试其他任何功能一样重要。</span><span class="sxs-lookup"><span data-stu-id="50939-202">Ensuring your application is secure is as important as testing any other functionality.</span></span> <span data-ttu-id="50939-203">将自动渗透测试规定为生成和部署过程的标准组成部分。</span><span class="sxs-lookup"><span data-stu-id="50939-203">Make automated penetration testing a standard part of the build and deployment process.</span></span> <span data-ttu-id="50939-204">针对已部署的应用程序计划定期安全测试和漏洞扫描，以监视打开的端口、终结点和攻击活动。</span><span class="sxs-lookup"><span data-stu-id="50939-204">Schedule regular security tests and vulnerability scanning on deployed applications, monitoring for open ports, endpoints, and attacks.</span></span> <span data-ttu-id="50939-205">自动测试并不意味着无需定期展开深入的安全评审。</span><span class="sxs-lookup"><span data-stu-id="50939-205">Automated testing does not remove the need for in-depth security reviews at regular intervals.</span></span>

<span data-ttu-id="50939-206">**执行自动业务连续性测试。**</span><span class="sxs-lookup"><span data-stu-id="50939-206">**Perform automated business continuity testing.**</span></span> <span data-ttu-id="50939-207">针对大规模业务连续性方案（包括备份、恢复和故障转移）制定测试方法。</span><span class="sxs-lookup"><span data-stu-id="50939-207">Develop tests for large scale business continuity, including backup recovery and failover.</span></span> <span data-ttu-id="50939-208">设置自动化过程来定期执行这些测试。</span><span class="sxs-lookup"><span data-stu-id="50939-208">Set up automated processes to perform these tests regularly.</span></span>

## <a name="release"></a><span data-ttu-id="50939-209">发布</span><span class="sxs-lookup"><span data-stu-id="50939-209">Release</span></span>

<span data-ttu-id="50939-210">**自动部署。**</span><span class="sxs-lookup"><span data-stu-id="50939-210">**Automate deployments.**</span></span> <span data-ttu-id="50939-211">将应用程序自动部署到测试、过渡和生产环境。</span><span class="sxs-lookup"><span data-stu-id="50939-211">Automate deploying the application to test, staging, and production environments.</span></span> <span data-ttu-id="50939-212">自动化能够更快、更可靠地完成部署，并确保以一致的方式部署到任何受支持的环境。</span><span class="sxs-lookup"><span data-stu-id="50939-212">Automation enables faster and more reliable deployments, and ensures consistent deployments to any supported environment.</span></span> <span data-ttu-id="50939-213">它可以消除手动部署造成人为错误的风险。</span><span class="sxs-lookup"><span data-stu-id="50939-213">It removes the risk of human error caused by manual deployments.</span></span> <span data-ttu-id="50939-214">此外，使用自动化还能将发布活动安排在方便的时间，以尽量降低潜在停机造成的影响。</span><span class="sxs-lookup"><span data-stu-id="50939-214">It also makes it easy to schedule releases for convenient times, to minimize any effects of potential downtime.</span></span>

<span data-ttu-id="50939-215">**使用持续集成。**</span><span class="sxs-lookup"><span data-stu-id="50939-215">**Use continuous integration.**</span></span> <span data-ttu-id="50939-216">持续集成 (CI) 是根据定期计划将所有开发人员代码合并到中心代码库，然后自动执行标准生成和测试过程的做法。</span><span class="sxs-lookup"><span data-stu-id="50939-216">Continuous integration (CI) is the practice of merging all developer code into a central codebase on a regular schedule, and then automatically performing standard build and test processes.</span></span> <span data-ttu-id="50939-217">CI 可确保整个团队同时处理代码库且不发生冲突。</span><span class="sxs-lookup"><span data-stu-id="50939-217">CI ensures that an entire team can work on a codebase at the same time without having conflicts.</span></span> <span data-ttu-id="50939-218">此外，它可以确保尽早发现代码缺陷。</span><span class="sxs-lookup"><span data-stu-id="50939-218">It also ensures that code defects are found as early as possible.</span></span> <span data-ttu-id="50939-219">最好是每次提交或签入代码时都要运行 CI 过程。</span><span class="sxs-lookup"><span data-stu-id="50939-219">Preferably, the CI process should run every time that code is committed or checked in.</span></span> <span data-ttu-id="50939-220">最起码每天应运行一次。</span><span class="sxs-lookup"><span data-stu-id="50939-220">At the very least, it should run once per day.</span></span>

> <span data-ttu-id="50939-221">考虑采用[基于树干的开发模型][trunk-based]。</span><span class="sxs-lookup"><span data-stu-id="50939-221">Consider adopting a [trunk based development model][trunk-based].</span></span> <span data-ttu-id="50939-222">在此模型中，开发人员可将内容提交到单个树枝（树干）。</span><span class="sxs-lookup"><span data-stu-id="50939-222">In this model, developers commit to a single branch (the trunk).</span></span> <span data-ttu-id="50939-223">有一项要求是，提交内容不得破坏生成。</span><span class="sxs-lookup"><span data-stu-id="50939-223">There is a requirement that commits never break the build.</span></span> <span data-ttu-id="50939-224">此模型有助于实现 CI，因为所有的功能性工作都在树干中完成，并且所有合并冲突都可在提交时解决。</span><span class="sxs-lookup"><span data-stu-id="50939-224">This model facilitates CI, because all feature work is done in the trunk, and any merge conflicts are resolved when the commit happens.</span></span>

<span data-ttu-id="50939-225">**考虑使用持续交付。**</span><span class="sxs-lookup"><span data-stu-id="50939-225">**Consider using continuous delivery.**</span></span> <span data-ttu-id="50939-226">持续交付 (CD) 是通过自动生成、测试代码并将其部署到类似生产的环境，确保代码随时可供部署的做法。</span><span class="sxs-lookup"><span data-stu-id="50939-226">Continuous delivery (CD) is the practice of ensuring that code is always ready to deploy, by automatically building, testing, and deploying code to production-like environments.</span></span> <span data-ttu-id="50939-227">添加持续交付来创建完整 CI/CD 管道的做法有助于尽早检测代码缺陷，并确保能够在极短的时间内发布已经过适当测试的更新。</span><span class="sxs-lookup"><span data-stu-id="50939-227">Adding continuous delivery to create a full CI/CD pipeline will help you detect code defects as soon as possible, and ensures that properly tested updates can be released in a very short time.</span></span>

> <span data-ttu-id="50939-228">持续部署是一个附加的过程，可自动引入通过 CI/CD 管道传递的所有更新，并将其部署到生产环境。</span><span class="sxs-lookup"><span data-stu-id="50939-228">Continuous *deployment* is an additional process that automatically takes any updates that have passed through the CI/CD pipeline and deploys them into production.</span></span> <span data-ttu-id="50939-229">持续部署需要可靠的自动测试和高级过程规划，不一定适合所有团队。</span><span class="sxs-lookup"><span data-stu-id="50939-229">Continuous deployment requires robust automatic testing and advanced process planning, and may not be appropriate for all teams.</span></span>

<span data-ttu-id="50939-230">**保持小规模的增量更改。**</span><span class="sxs-lookup"><span data-stu-id="50939-230">**Make small incremental changes.**</span></span> <span data-ttu-id="50939-231">大规模的代码更改更有可能造成 bug。</span><span class="sxs-lookup"><span data-stu-id="50939-231">Large code changes have a greater potential to introduce bugs.</span></span> <span data-ttu-id="50939-232">请尽量保持小规模的更改。</span><span class="sxs-lookup"><span data-stu-id="50939-232">Whenever possible, keep changes small.</span></span> <span data-ttu-id="50939-233">这可以限制每次更改造成的潜在影响，并方便识别和调试任何问题。</span><span class="sxs-lookup"><span data-stu-id="50939-233">This limits the potential effects of each change, and makes it easier to understand and debug any issues.</span></span>

<span data-ttu-id="50939-234">**控制更改内容透露。**</span><span class="sxs-lookup"><span data-stu-id="50939-234">**Control exposure to changes.**</span></span> <span data-ttu-id="50939-235">确保您能够控制最终用户何时可以看到更新。</span><span class="sxs-lookup"><span data-stu-id="50939-235">Make sure you're in control of when updates are visible to your end users.</span></span> <span data-ttu-id="50939-236">考虑使用功能切换来控制何时为最终用户启用功能。</span><span class="sxs-lookup"><span data-stu-id="50939-236">Consider using feature toggles to control when features are enabled for end users.</span></span>

<span data-ttu-id="50939-237">**实施发布管理策略，以降低部署风险。**</span><span class="sxs-lookup"><span data-stu-id="50939-237">**Implement release management strategies to reduce deployment risk.**</span></span> <span data-ttu-id="50939-238">将应用程序更新部署到生产环境始终存在一定的风险。</span><span class="sxs-lookup"><span data-stu-id="50939-238">Deploying an application update to production always entails some risk.</span></span> <span data-ttu-id="50939-239">若要降低此风险，请使用 [Canary 发布][canary-release]或[蓝绿部署][blue-green]等策略将更新部署到一部分用户。</span><span class="sxs-lookup"><span data-stu-id="50939-239">To minimize this risk, use strategies such as [canary releases][canary-release] or [blue-green deployments][blue-green] to deploy updates to a subset of users.</span></span> <span data-ttu-id="50939-240">确认更新按预期工作，然后将更新实施到系统的其他部分。</span><span class="sxs-lookup"><span data-stu-id="50939-240">Confirm the update works as expected, and then roll the update out to the rest of the system.</span></span>

<span data-ttu-id="50939-241">**阐述所有更改。**</span><span class="sxs-lookup"><span data-stu-id="50939-241">**Document all changes.**</span></span> <span data-ttu-id="50939-242">次要更新和配置更改可能是产生混淆和版本冲突的根源。</span><span class="sxs-lookup"><span data-stu-id="50939-242">Minor updates and configuration changes can be a source of confusion and versioning conflict.</span></span> <span data-ttu-id="50939-243">请始终保留任何更改的明确记录，即使是轻微的更新。</span><span class="sxs-lookup"><span data-stu-id="50939-243">Always keep a clear record of any changes, no matter how small.</span></span> <span data-ttu-id="50939-244">记录更改的任何内容，包括应用的修补程序、策略更改和配置更改。</span><span class="sxs-lookup"><span data-stu-id="50939-244">Log everything that changes, including patches applied, policy changes, and configuration changes.</span></span> <span data-ttu-id="50939-245">（不要在这些日志中包含敏感数据。</span><span class="sxs-lookup"><span data-stu-id="50939-245">(Don't include sensitive data in these logs.</span></span> <span data-ttu-id="50939-246">例如，在日志中指出凭据已更新以及谁做了更改，但不要记录更新的凭据。）更改记录应该向整个团队显示。</span><span class="sxs-lookup"><span data-stu-id="50939-246">For example, log that a credential was updated, and who made the change, but don't record the updated credentials.) The record of the changes should be visible to the entire team.</span></span>

<span data-ttu-id="50939-247">**自动部署。**</span><span class="sxs-lookup"><span data-stu-id="50939-247">**Automate Deployments.**</span></span> <span data-ttu-id="50939-248">将所有部署自动化，并部署相应的系统来检测部署过程中出现的任何问题。</span><span class="sxs-lookup"><span data-stu-id="50939-248">Automate all deployments, and have systems in place to detect any problems during rollout.</span></span> <span data-ttu-id="50939-249">制定一个缓解过程用于保留生产环境中的现有代码和数据，然后通过更新替换所有生产实例中的现有代码和数据。</span><span class="sxs-lookup"><span data-stu-id="50939-249">Have a mitigation process for preserving the existing code and data in production, before the update replaces them in all production instances.</span></span> <span data-ttu-id="50939-250">使用自动方法来前滚修复程序或回滚更改。</span><span class="sxs-lookup"><span data-stu-id="50939-250">Have an automated way to roll forward fixes or roll back changes.</span></span>

<span data-ttu-id="50939-251">**考虑使基础结构保持不可变。**</span><span class="sxs-lookup"><span data-stu-id="50939-251">**Consider making infrastructure immutable.**</span></span> <span data-ttu-id="50939-252">不可变基础结构是指在将基础结构部署到生产环境后不应对其进行修改的原则。</span><span class="sxs-lookup"><span data-stu-id="50939-252">Immutable infrastructure is the principle that you shouldn’t modify infrastructure after it’s deployed to production.</span></span> <span data-ttu-id="50939-253">否则，可能会陷入这种状态：应用即席更改后，很难确切地知道哪些内容已更改。</span><span class="sxs-lookup"><span data-stu-id="50939-253">Otherwise, you can get into a state where ad hoc changes have been applied, making it hard to know exactly what changed.</span></span> <span data-ttu-id="50939-254">不可变基础结构的工作原理是将整个服务器作为任何新部署的一部分进行替换。</span><span class="sxs-lookup"><span data-stu-id="50939-254">Immutable infrastructure works by replacing entire servers as part of any new deployment.</span></span> <span data-ttu-id="50939-255">这样，就能以一个块的形式测试和部署代码与宿主环境。</span><span class="sxs-lookup"><span data-stu-id="50939-255">This allows the code and the hosting environment to be tested and deployed as a block.</span></span> <span data-ttu-id="50939-256">部署后，基础结构组件在下一个生成和部署周期之前不会修改。</span><span class="sxs-lookup"><span data-stu-id="50939-256">Once deployed, infrastructure components aren't modified until the next build and deploy cycle.</span></span>

## <a name="monitoring"></a><span data-ttu-id="50939-257">监视</span><span class="sxs-lookup"><span data-stu-id="50939-257">Monitoring</span></span>

<span data-ttu-id="50939-258">**使系统可观测。**</span><span class="sxs-lookup"><span data-stu-id="50939-258">**Make systems observable.**</span></span> <span data-ttu-id="50939-259">运营团队始终应该能够清晰洞察系统或服务的运行状况和状态。</span><span class="sxs-lookup"><span data-stu-id="50939-259">The operations team should always have clear visibility into the health and status of a system or service.</span></span> <span data-ttu-id="50939-260">设置外部运行状况终结点来监视状态，并确保应用程序在编程设计上可以检测操作指标。</span><span class="sxs-lookup"><span data-stu-id="50939-260">Set up external health endpoints to monitor status, and ensure that applications are coded to instrument the operations metrics.</span></span> <span data-ttu-id="50939-261">可使用常见的一致性架构，以便跨系统关联事件。</span><span class="sxs-lookup"><span data-stu-id="50939-261">Use a common and consistent schema that lets you correlate events across systems.</span></span> <span data-ttu-id="50939-262">[Azure 诊断][azure-diagnostics]和 [Application Insights][app-insights] 是跟踪 Azure 资源运行状况和状态的标准方法。</span><span class="sxs-lookup"><span data-stu-id="50939-262">[Azure Diagnostics][azure-diagnostics] and [Application Insights][app-insights] are the standard method of tracking the health and status of Azure resources.</span></span> <span data-ttu-id="50939-263">Microsoft [Operation Management Suite][oms] 还针对云或混合解决方案提供集中式监视和管理。</span><span class="sxs-lookup"><span data-stu-id="50939-263">Microsoft [Operation Management Suite][oms] also provides centralized monitoring and management for cloud or hybrid solutions.</span></span>

<span data-ttu-id="50939-264">**聚合并关联日志和指标**。</span><span class="sxs-lookup"><span data-stu-id="50939-264">**Aggregate and correlate logs and metrics**.</span></span> <span data-ttu-id="50939-265">适当检测的遥测系统会提供大量原始性能数据和事件日志。</span><span class="sxs-lookup"><span data-stu-id="50939-265">A properly instrumented telemetry system will provide a large amount of raw performance data and event logs.</span></span> <span data-ttu-id="50939-266">确保在短时间内处理并关联遥测和日志数据，使运营人员始终获得系统运行状况的最新画面。</span><span class="sxs-lookup"><span data-stu-id="50939-266">Make sure that telemetry and log data is processed and correlated in a short period of time, so that operations staff always have an up-to-date picture of system health.</span></span> <span data-ttu-id="50939-267">以合理的方式组织和显示数据，将所有问题统合成一个内聚视图，以便在事件相互关联时，能够尽量直观地看到这种关联。</span><span class="sxs-lookup"><span data-stu-id="50939-267">Organize and display data in ways that give a cohesive view of any issues, so that whenever possible it's clear when events are related to one another.</span></span>

> <span data-ttu-id="50939-268">有关数据处理方式及其存储期限的要求，请查阅企业保留策略。</span><span class="sxs-lookup"><span data-stu-id="50939-268">Consult your corporate retention policy for requirements on how data is processed and how long it should be stored.</span></span>

<span data-ttu-id="50939-269">**实施自动警报和通知。**</span><span class="sxs-lookup"><span data-stu-id="50939-269">**Implement automated alerts and notifications.**</span></span> <span data-ttu-id="50939-270">设置 [Azure Monitor][azure-monitor] 等监视工具，以检测指示潜在问题或当前问题的模式或状态，并将警报发送到可以解决问题的团队成员。</span><span class="sxs-lookup"><span data-stu-id="50939-270">Set up monitoring tools like [Azure Monitor][azure-monitor] to detect patterns or conditions that indicate potential or current issues, and send alerts to the team members who can address the issues.</span></span> <span data-ttu-id="50939-271">优化警报以避免误报。</span><span class="sxs-lookup"><span data-stu-id="50939-271">Tune the alerts to avoid false positives.</span></span>

<span data-ttu-id="50939-272">**监视资产和资源的过期。**</span><span class="sxs-lookup"><span data-stu-id="50939-272">**Monitor assets and resources for expirations.**</span></span> <span data-ttu-id="50939-273">某些资源和资产（例如证书）在给定的时间后会过期。</span><span class="sxs-lookup"><span data-stu-id="50939-273">Some resources and assets, such as certificates, expire after a given amount of time.</span></span> <span data-ttu-id="50939-274">请确保跟踪哪些资产会过期、何时过期，以及哪些服务或功能依赖于这些资产。</span><span class="sxs-lookup"><span data-stu-id="50939-274">Make sure to track which assets expire, when they expire, and what services or features depend on them.</span></span> <span data-ttu-id="50939-275">使用自动化过程来监视这些资产。</span><span class="sxs-lookup"><span data-stu-id="50939-275">Use automated processes to monitor these assets.</span></span> <span data-ttu-id="50939-276">在资产过期之前通知运营团队，如果过期会导致应用程序中断，请将事务升级。</span><span class="sxs-lookup"><span data-stu-id="50939-276">Notify the operations team before an asset expires, and escalate if expiration threatens to disrupt the application.</span></span>

## <a name="management"></a><span data-ttu-id="50939-277">管理</span><span class="sxs-lookup"><span data-stu-id="50939-277">Management</span></span>

<span data-ttu-id="50939-278">**将操作任务自动化。**</span><span class="sxs-lookup"><span data-stu-id="50939-278">**Automate operations tasks.**</span></span> <span data-ttu-id="50939-279">手动处理重复的操作过程是容易出错。</span><span class="sxs-lookup"><span data-stu-id="50939-279">Manually handling repetitive operations processes is error-prone.</span></span> <span data-ttu-id="50939-280">请尽量将这些任务自动化，以确保一致的执行结果和质量。</span><span class="sxs-lookup"><span data-stu-id="50939-280">Automate these tasks whenever possible to ensure consistent execution and quality.</span></span> <span data-ttu-id="50939-281">应在源代码管理中控制用于实现自动化的代码。</span><span class="sxs-lookup"><span data-stu-id="50939-281">Code that implements the automation should be versioned in source control.</span></span> <span data-ttu-id="50939-282">与其他任何代码一样，必须测试自动化工具。</span><span class="sxs-lookup"><span data-stu-id="50939-282">As with any other code, automation tools must be tested.</span></span>

<span data-ttu-id="50939-283">**在预配中采用基础结构即代码方法。**</span><span class="sxs-lookup"><span data-stu-id="50939-283">**Take an infrastructure-as-code approach to provisioning.**</span></span> <span data-ttu-id="50939-284">尽量减少预配资源所需的手动配置工作量。</span><span class="sxs-lookup"><span data-stu-id="50939-284">Minimize the amount of manual configuration needed to provision resources.</span></span> <span data-ttu-id="50939-285">应该使用脚本和 [Azure 资源管理器][resource-manager]模板。</span><span class="sxs-lookup"><span data-stu-id="50939-285">Instead, use scripts and [Azure Resource Manager][resource-manager] templates.</span></span> <span data-ttu-id="50939-286">像维护的其他代码一样，在源代码管理中保留脚本和模板。</span><span class="sxs-lookup"><span data-stu-id="50939-286">Keep the scripts and templates in source control, like any other code you maintain.</span></span>

<span data-ttu-id="50939-287">**考虑使用容器。**</span><span class="sxs-lookup"><span data-stu-id="50939-287">**Consider using containers.**</span></span> <span data-ttu-id="50939-288">容器提供标准的基于包的接口用于部署应用程序。</span><span class="sxs-lookup"><span data-stu-id="50939-288">Containers provide a standard package-based interface for deploying applications.</span></span> <span data-ttu-id="50939-289">使用容器可以通过独立的包（其中包含运行应用程序所需的所有软件、依赖项和文件）来部署应用程序，从而大大简化了部署过程。</span><span class="sxs-lookup"><span data-stu-id="50939-289">Using containers, an application is deployed using self-contained packages that include any software, dependencies, and files needed to run the application, which greatly simplifies the deployment process.</span></span>

<span data-ttu-id="50939-290">容器还在应用程序与底层操作系统之间提供一个抽象层，使不同的环境保持一致性。</span><span class="sxs-lookup"><span data-stu-id="50939-290">Containers also create an abstraction layer between the application and the underlying operating system, which provides consistency across environments.</span></span> <span data-ttu-id="50939-291">这种抽象还能将容器与主机上运行的其他进程或应用程序隔离开来。</span><span class="sxs-lookup"><span data-stu-id="50939-291">This abstraction can also isolate a container from other processes or applications running on a host.</span></span>

<span data-ttu-id="50939-292">**实施复原和自我修复。**</span><span class="sxs-lookup"><span data-stu-id="50939-292">**Implement resiliency and self-healing.**</span></span> <span data-ttu-id="50939-293">复原是指应用程序在故障后恢复的能力。</span><span class="sxs-lookup"><span data-stu-id="50939-293">Resiliency is the ability of an application to recover from failures.</span></span> <span data-ttu-id="50939-294">复原策略包括重试暂时性故障，以及故障转移到辅助实例（甚至另一个区域）。</span><span class="sxs-lookup"><span data-stu-id="50939-294">Strategies for resiliency include retrying transient failures, and failing over to a secondary instance or even another region.</span></span> <span data-ttu-id="50939-295">有关详细信息，请参阅[设计适用于 Azure 的可复原应用程序][resiliency]。</span><span class="sxs-lookup"><span data-stu-id="50939-295">For more information, see [Designing resilient applications for Azure][resiliency].</span></span> <span data-ttu-id="50939-296">检测应用程序，以便能够立即报告问题，并可以管理服务中断或其他系统故障。</span><span class="sxs-lookup"><span data-stu-id="50939-296">Instrument your applications so that issues are reported immediately and you can manage outages or other system failures.</span></span>

<span data-ttu-id="50939-297">**创建操作手册。**</span><span class="sxs-lookup"><span data-stu-id="50939-297">**Have an operations manual.**</span></span> <span data-ttu-id="50939-298">操作手册或 *Runbook* 阐述操作人员在维护系统时所需的流程和管理信息。</span><span class="sxs-lookup"><span data-stu-id="50939-298">An operations manual or *runbook* documents the procedures and management information needed for operations staff to maintain a system.</span></span> <span data-ttu-id="50939-299">另外，它还阐述在服务发生故障或其他中断问题时，可以派上用场的任何操作方案和缓解计划。</span><span class="sxs-lookup"><span data-stu-id="50939-299">Also document any operations scenarios and mitigation plans that might come into play during a failure or other disruption to your service.</span></span> <span data-ttu-id="50939-300">请在开发过程中创建此文档，并一直保持更新。</span><span class="sxs-lookup"><span data-stu-id="50939-300">Create this documentation during the development process, and keep it up to date afterwards.</span></span> <span data-ttu-id="50939-301">这是一个动态文档，应定期对其进行审查、测试和改善。</span><span class="sxs-lookup"><span data-stu-id="50939-301">This is a living document, and should be reviewed, tested, and improved regularly.</span></span>

<span data-ttu-id="50939-302">共享文档至关重要。</span><span class="sxs-lookup"><span data-stu-id="50939-302">Shared documentation is critical.</span></span> <span data-ttu-id="50939-303">鼓励团队成员参与并分享知识。</span><span class="sxs-lookup"><span data-stu-id="50939-303">Encourage team members to contribute and share knowledge.</span></span> <span data-ttu-id="50939-304">整个团队应有权访问文档。</span><span class="sxs-lookup"><span data-stu-id="50939-304">The entire team should have access to documents.</span></span> <span data-ttu-id="50939-305">为团队中更新文档的任何人员提供方便。</span><span class="sxs-lookup"><span data-stu-id="50939-305">Make it easy for anyone on the team to help keep documents updated.</span></span>

<span data-ttu-id="50939-306">**文档值守流程。**</span><span class="sxs-lookup"><span data-stu-id="50939-306">**Document on-call procedures.**</span></span> <span data-ttu-id="50939-307">确保制定值守职责、计划和流程，并分发给所有团队。</span><span class="sxs-lookup"><span data-stu-id="50939-307">Make sure on-call duties, schedules, and procedures are documented and shared to all team members.</span></span> <span data-ttu-id="50939-308">随时更新此信息。</span><span class="sxs-lookup"><span data-stu-id="50939-308">Keep this information up-to-date at all times.</span></span>

<span data-ttu-id="50939-309">**阐述第三方依赖关系的升级流程。**</span><span class="sxs-lookup"><span data-stu-id="50939-309">**Document escalation procedures for third-party dependencies.**</span></span> <span data-ttu-id="50939-310">如果应用程序依赖于不直接受你控制的外部第三方服务，则必须做好应对服务中断的计划。</span><span class="sxs-lookup"><span data-stu-id="50939-310">If your application depends on external third-party services that you don't directly control, you must have a plan to deal with outages.</span></span> <span data-ttu-id="50939-311">为计划的缓解过程创建文档。</span><span class="sxs-lookup"><span data-stu-id="50939-311">Create documentation for your planned mitigation processes.</span></span> <span data-ttu-id="50939-312">包含支持人员联系人和升级路径。</span><span class="sxs-lookup"><span data-stu-id="50939-312">Include support contacts and escalation paths.</span></span>

<span data-ttu-id="50939-313">**使用配置管理。**</span><span class="sxs-lookup"><span data-stu-id="50939-313">**Use configuration management.**</span></span> <span data-ttu-id="50939-314">应该计划、向操作人员显示并记录配置更改。</span><span class="sxs-lookup"><span data-stu-id="50939-314">Configuration changes should be planned, visible to operations, and recorded.</span></span> <span data-ttu-id="50939-315">这可以采用配置管理数据库的形式或配置即代码方法。</span><span class="sxs-lookup"><span data-stu-id="50939-315">This could take the form of a configuration management database, or a configuration-as-code approach.</span></span> <span data-ttu-id="50939-316">应定期审核配置，确保预期的配置已实际部署到位。</span><span class="sxs-lookup"><span data-stu-id="50939-316">Configuration should be audited regularly to ensure that what's expected is actually in place.</span></span>

<span data-ttu-id="50939-317">**获取 Azure 支持计划并了解相关过程。**</span><span class="sxs-lookup"><span data-stu-id="50939-317">**Get an Azure support plan and understand the process.**</span></span> <span data-ttu-id="50939-318">Azure 提供许多[支持计划][azure-support-plans]。</span><span class="sxs-lookup"><span data-stu-id="50939-318">Azure offers a number of [support plans][azure-support-plans].</span></span> <span data-ttu-id="50939-319">确定符合需要的计划，并确保整个团队了解其用法。</span><span class="sxs-lookup"><span data-stu-id="50939-319">Determine the right plan for your needs, and make sure the entire team knows how to use it.</span></span> <span data-ttu-id="50939-320">团队成员应了解该计划的细节、支持过程的工作方式，以及如何使用 Azure 开具支持票证。</span><span class="sxs-lookup"><span data-stu-id="50939-320">Team members should understand the details of the plan, how the support process works, and how to open a support ticket with Azure.</span></span> <span data-ttu-id="50939-321">如果你预期会发生大规模的事件，Azure 支持人员可以帮助你提高服务限制。</span><span class="sxs-lookup"><span data-stu-id="50939-321">If you are anticipating a high-scale event, Azure support can assist you with increasing your service limits.</span></span> <span data-ttu-id="50939-322">有关详细信息，请参阅 [Azure 支持常见问题解答](https://azure.microsoft.com/support/faq/)。</span><span class="sxs-lookup"><span data-stu-id="50939-322">For more information, see the [Azure Support FAQs](https://azure.microsoft.com/support/faq/).</span></span>

<span data-ttu-id="50939-323">**授予资源访问权限时，请遵循最低特权原则。**</span><span class="sxs-lookup"><span data-stu-id="50939-323">**Follow least-privilege principles when granting access to resources.**</span></span> <span data-ttu-id="50939-324">谨慎管理资源的访问权限。</span><span class="sxs-lookup"><span data-stu-id="50939-324">Carefully manage access to resources.</span></span> <span data-ttu-id="50939-325">除非要显式授予某个用户对某个资源的访问权限，否则应默认拒绝访问。</span><span class="sxs-lookup"><span data-stu-id="50939-325">Access should be denied by default, unless a user is explicitly given access to a resource.</span></span> <span data-ttu-id="50939-326">只向用户授予完成其任务所需的访问权限。</span><span class="sxs-lookup"><span data-stu-id="50939-326">Only grant a user access to what they need to complete their tasks.</span></span> <span data-ttu-id="50939-327">跟踪用户权限并执行定期安全审核。</span><span class="sxs-lookup"><span data-stu-id="50939-327">Track user permissions and perform regular security audits.</span></span>

<span data-ttu-id="50939-328">**使用基于角色的访问控制。**</span><span class="sxs-lookup"><span data-stu-id="50939-328">**Use role-based access control.**</span></span> <span data-ttu-id="50939-329">分配用户帐户和资源访问权限不应是手动过程。</span><span class="sxs-lookup"><span data-stu-id="50939-329">Assigning user accounts and access to resources should not be a manual process.</span></span> <span data-ttu-id="50939-330">请使用[基于角色的访问控制][rbac] (RBAC)，基于 [Azure Active Directory][azure-ad] 标识和组来授予访问权限。</span><span class="sxs-lookup"><span data-stu-id="50939-330">Use [Role-Based Access Control][rbac] (RBAC) grant access based on [Azure Active Directory][azure-ad] identities and groups.</span></span>

<span data-ttu-id="50939-331">**使用 bug 跟踪系统来跟踪问题。**</span><span class="sxs-lookup"><span data-stu-id="50939-331">**Use a bug tracking system to track issues.**</span></span> <span data-ttu-id="50939-332">如果没有适当的问题跟踪方法，则很容易丢失项、产生重复工作，或造成其他问题。</span><span class="sxs-lookup"><span data-stu-id="50939-332">Without a good way to track issues, it's easy to miss items, duplicate work, or introduce additional problems.</span></span> <span data-ttu-id="50939-333">不要依赖于非正式的人际交流来跟踪 bug 状态。</span><span class="sxs-lookup"><span data-stu-id="50939-333">Don't rely on informal person-to-person communication to track the status of bugs.</span></span> <span data-ttu-id="50939-334">请使用 bug 跟踪工具来记录有关问题的详细信息、分配资源来解决问题，并提供进度和状态的审核线索。</span><span class="sxs-lookup"><span data-stu-id="50939-334">Use a bug tracking tool to record details about problems, assign resources to address them, and provide an audit trail of progress and status.</span></span>

<span data-ttu-id="50939-335">**在更改管理系统中管理所有资源。**</span><span class="sxs-lookup"><span data-stu-id="50939-335">**Manage all resources in a change management system.**</span></span> <span data-ttu-id="50939-336">应在管理和版本控制系统中包含 DevOps 过程的方方面面，以便可以轻松跟踪和审核更改。</span><span class="sxs-lookup"><span data-stu-id="50939-336">All aspects of your DevOps process should be included in a management and versioning system, so that changes can be easily tracked and audited.</span></span> <span data-ttu-id="50939-337">这包括代码、基础结构、配置、文档和脚本。</span><span class="sxs-lookup"><span data-stu-id="50939-337">This includes code, infrastructure, configuration, documentation, and scripts.</span></span> <span data-ttu-id="50939-338">在整个测试/生成/评审过程中，应将所有这些类型的资源视为代码。</span><span class="sxs-lookup"><span data-stu-id="50939-338">Treat all these types of resources as code throughout the test/build/review process.</span></span>

<span data-ttu-id="50939-339">**使用查检表。**</span><span class="sxs-lookup"><span data-stu-id="50939-339">**Use checklists.**</span></span> <span data-ttu-id="50939-340">创建操作查检表，以确保遵循过程。</span><span class="sxs-lookup"><span data-stu-id="50939-340">Create operations checklists to ensure processes are followed.</span></span> <span data-ttu-id="50939-341">较大的手册中很容易遗漏内容，遵循查检表可以促使阅读者关注可能被忽略的细节。</span><span class="sxs-lookup"><span data-stu-id="50939-341">It’s common to miss something in a large manual, and following a checklist can force attention to details that might otherwise be overlooked.</span></span> <span data-ttu-id="50939-342">维护查检表，并持续寻求可自动执行任务和优化过程的方法。</span><span class="sxs-lookup"><span data-stu-id="50939-342">Maintain the checklists, and continually look for ways to automate tasks and streamline processes.</span></span>

<span data-ttu-id="50939-343">有关 DevOps 的详细信息，请参阅 Visual Studio 站点上的[什么是 DevOps？][what-is-devops]</span><span class="sxs-lookup"><span data-stu-id="50939-343">For more about DevOps, see [What is DevOps?][what-is-devops] on the Visual Studio site.</span></span>

<!-- links -->

[app-insights]: /azure/application-insights/
[azure-ad]: https://azure.microsoft.com/services/active-directory/
[azure-diagnostics]: /azure/monitoring-and-diagnostics/azure-diagnostics
[azure-monitor]: /azure/monitoring-and-diagnostics/monitoring-overview
[azure-support-plans]: https://azure.microsoft.com/support/plans/
[blue-green]: https://martinfowler.com/bliki/BlueGreenDeployment.html
[canary-release]:https://martinfowler.com/bliki/CanaryRelease.html
[dev-test]: https://azure.microsoft.com/solutions/dev-test/
[feature-toggles]: https://www.martinfowler.com/articles/feature-toggles.html
[oms]: https://www.microsoft.com/cloud-platform/operations-management-suite
[rbac]: /azure/active-directory/role-based-access-control-what-is
[resiliency]: ../resiliency/index.md
[resource-manager]: /azure/azure-resource-manager/
[trunk-based]: https://trunkbaseddevelopment.com/
[what-is-devops]: https://www.visualstudio.com/learn/what-is-devops/
