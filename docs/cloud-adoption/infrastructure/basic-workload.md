---
title: 企业云的采用：部署基本工作负荷
description: 介绍如何将基本工作负荷部署到 Azure
author: petertaylor9999
ms.date: 09/10/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: enterprise-cloud-adoption
ms.custom: Windows, Linux
ms.openlocfilehash: 031a8f2e1dc0b137fc830733d025997a2657ef3c
ms.sourcegitcommit: 1b50810208354577b00e89e5c031b774b02736e2
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/23/2019
ms.locfileid: "54481399"
---
# <a name="enterprise-cloud-adoption-deploy-a-basic-workload"></a><span data-ttu-id="2ae7f-103">企业云采用：部署基本工作负荷</span><span class="sxs-lookup"><span data-stu-id="2ae7f-103">Enterprise Cloud Adoption: Deploy a basic workload</span></span>

<span data-ttu-id="2ae7f-104">术语“工作负荷”通常是指定义一个任意的功能单元，例如应用程序或服务。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-104">The term **workload** is typically understood to define an arbitrary unit of functionality such as an application or service.</span></span> <span data-ttu-id="2ae7f-105">我们可以从部署到服务器的代码项目的角度考虑工作负荷，也可以从任何其他必需服务的角度考虑它。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-105">We think about a workload in terms of the code artifacts that are deployed to a server, but also in terms of any other services that are necessary.</span></span> <span data-ttu-id="2ae7f-106">对于本地应用程序或服务而言，这种定义非常有效；但在云中，我们需要对其进行延伸。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-106">This is a useful definition for an on-premises application or service but in the cloud we need to expand on it.</span></span>

<span data-ttu-id="2ae7f-107">在云中，工作负荷不仅涵盖所有项目，而且还包括云资源。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-107">In the cloud, a workload not only encompasses all the artifacts but also includes the cloud resources as well.</span></span> <span data-ttu-id="2ae7f-108">由于存在所谓的“基础结构即代码”概念，我们将云资源作为定义的一部分包括进来。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-108">We include cloud resources as part of our definition because of a concept known as infrastructure-as-code.</span></span> <span data-ttu-id="2ae7f-109">如 [Azure 工作原理](../getting-started/what-is-azure.md)中所述，Azure 中的资源由业务流程协调程序服务部署。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-109">As you learned in the [how does Azure work?](../getting-started/what-is-azure.md), resources in Azure are deployed by an orchestrator service.</span></span> <span data-ttu-id="2ae7f-110">业务流程协调程序服务通过 Web API 公开此功能，可以使用 Powershell 等工具、Azure 命令行接口 (CLI) 和 Azure 门户来调用此 Web API。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-110">The orchestrator service exposes this functionality through a web API, and this web API can be called using several tools such as Powershell, the Azure command line interface (CLI), and the Azure portal.</span></span> <span data-ttu-id="2ae7f-111">这意味着，我们可以在机器可读的文件中指定资源，并将该文件连同与应用程序关联的代码项目一起存储。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-111">This means that we can specify our resources in a machine-readable file that can be stored along with the code artifacts associated with our application.</span></span>

<span data-ttu-id="2ae7f-112">这样，我们便可以从代码项目和所需云资源的角度来定义工作负荷，从而进一步隔离工作负荷。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-112">This enables us to define a workload in terms of code artifacts and the necessary cloud resources, and this further enables us to isolate our workloads.</span></span> <span data-ttu-id="2ae7f-113">可以根据资源的组织方式、网络拓扑或其他属性隔离工作负荷。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-113">Workloads may be isolated by the way resources are organized, by network topology, or by other attributes.</span></span> <span data-ttu-id="2ae7f-114">隔离工作负荷的目的是将工作负荷的特定资源关联到某个团队，使该团队能够独立管理这些资源的所有方面。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-114">The goal of workload isolation is to associate a workload's specific resources to a team so the team can independently manage all aspects of those resources.</span></span> <span data-ttu-id="2ae7f-115">这样，多个团队便可以在 Azure 中共享资源管理服务，同时防止意外删除或修改对方的资源。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-115">This enables multiple teams to share resource management services in Azure while preventing the unintentional deletion or modification of each other's resources.</span></span>

<span data-ttu-id="2ae7f-116">这种隔离还成就了另一个称作 DevOps 的概念。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-116">This isolation also enables another concept known as DevOps.</span></span> <span data-ttu-id="2ae7f-117">DevOps 包括软件开发实践（例如上述软件开发和 IT 运营），但会尽量添加更多的自动化功能。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-117">DevOps includes the software development practices that include both software development and IT operations above, but adds the use of automation as much as possible.</span></span> <span data-ttu-id="2ae7f-118">DevOps 的原理之一称为持续集成和持续交付 (CI/CD)。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-118">One of the principles of DevOps is known as continuous integration and continuous delivery (CI/CD).</span></span> <span data-ttu-id="2ae7f-119">持续集成是指开发人员提交代码更改时运行的自动生成过程，持续交付是指将此代码部署到各种环境（例如，部署到开发环境进行测试，或部署到生产环境以完成最终部署）的自动化过程。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-119">Continuous integration refers to the automated build processes that are run each time a developer commits a code change, and continuous delivery refers to the automated processes that deploy this code to various environments such as a development environment for testing or a production environment for final deployment.</span></span>

## <a name="basic-workload"></a><span data-ttu-id="2ae7f-120">基本工作负荷</span><span class="sxs-lookup"><span data-stu-id="2ae7f-120">Basic workload</span></span>

<span data-ttu-id="2ae7f-121">根据定义，**基本工作负荷**通常是指单个 Web 应用程序或包含虚拟机 (VM) 的虚拟网络 (VNet)。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-121">A **basic workload** is typically defined as a single web application, or a virtual network (VNet) with virtual machine (VM).</span></span> 

> [!NOTE]
> <span data-ttu-id="2ae7f-122">本指南不会介绍应用程序开发。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-122">This guide does not cover application development.</span></span> <span data-ttu-id="2ae7f-123">有关在 Azure 上开发应用程序的详细信息，请参阅 [Azure 应用程序体系结构指南](/azure/architecture/guide/)。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-123">For more information about developing applications on Azure, see the [Azure Application Architecture Guide](/azure/architecture/guide/).</span></span>

<span data-ttu-id="2ae7f-124">不管工作负荷是 Web 应用程序还是 VM，其中的每个部署都需要一个**资源组**。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-124">Regardless of whether the workload is a web application or a VM, each of these deployments requires a **resource group**.</span></span> <span data-ttu-id="2ae7f-125">有权创建资源组的用户必须先创建资源组，然后才能执行以下步骤。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-125">A user with permission to create a resource group must do that before following the steps below.</span></span>

## <a name="basic-web-application-paas"></a><span data-ttu-id="2ae7f-126">基本 Web 应用程序 (PaaS)</span><span class="sxs-lookup"><span data-stu-id="2ae7f-126">Basic web application (PaaS)</span></span>

<span data-ttu-id="2ae7f-127">对于基本 Web 应用程序，请从 [Web 应用文档](/azure/app-service?toc=/azure/architecture/cloud-adoption-guide/toc.json)中选择一篇为时 5 分钟的快速入门，并遵循其中的步骤。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-127">For a basic web application, select one of the 5-minute quickstarts from the [web apps documentation](/azure/app-service?toc=/azure/architecture/cloud-adoption-guide/toc.json) and follow the steps.</span></span> 

> [!NOTE]
> <span data-ttu-id="2ae7f-128">某些快速入门默认会部署资源组。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-128">Some of the quickstarts will deploy a resource group by default.</span></span> <span data-ttu-id="2ae7f-129">在这种情况下，不需显式创建资源组。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-129">In this case, it's not necessary to create a resource group explicitly.</span></span> <span data-ttu-id="2ae7f-130">否则，应将 Web 应用程序部署到前面创建的资源组。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-130">Otherwise, deploy the web application to the resource group created above.</span></span>

<span data-ttu-id="2ae7f-131">部署简单的工作负荷后，可以详细了解有关将[基本 Web 应用程序](/azure/architecture/reference-architectures/app-service-web-app/basic-web-app?toc=/azure/architecture/cloud-adoption-guide/toc.json)部署到 Azure 的成熟做法。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-131">Once your simple workload has been deployed, you can learn more about the proven practices for deploying a [basic web application](/azure/architecture/reference-architectures/app-service-web-app/basic-web-app?toc=/azure/architecture/cloud-adoption-guide/toc.json) to Azure.</span></span>

## <a name="single-windows-or-linux-vm-iaas"></a><span data-ttu-id="2ae7f-132">单个 Windows 或 Linux VM (IaaS)</span><span class="sxs-lookup"><span data-stu-id="2ae7f-132">Single Windows or Linux VM (IaaS)</span></span>

<span data-ttu-id="2ae7f-133">对于虚拟机上运行的简单工作负荷，第一步是部署虚拟网络。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-133">For a simple workload that runs on a virtual machine, the first step is to deploy a virtual network.</span></span> <span data-ttu-id="2ae7f-134">Azure 中的所有 IaaS 资源（例如虚拟机、负载均衡器和网关）都需要虚拟网络。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-134">All IaaS resources in Azure such as virtual machines, load balancers, and gateways require a virtual network.</span></span> <span data-ttu-id="2ae7f-135">了解 [Azure 虚拟网络](/azure/virtual-network/virtual-networks-overview?toc=/azure/architecture/cloud-adoption-guide/toc.json)，然后遵循相应的步骤，[使用门户将虚拟网络部署到 Azure](/azure/virtual-network/quick-create-portal?toc=/azure/architecture/cloud-adoption-guide/toc.json)。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-135">Learn about [Azure virtual networks](/azure/virtual-network/virtual-networks-overview?toc=/azure/architecture/cloud-adoption-guide/toc.json), and then follow the steps to [deploy a Virtual Network to Azure using the portal](/azure/virtual-network/quick-create-portal?toc=/azure/architecture/cloud-adoption-guide/toc.json).</span></span> <span data-ttu-id="2ae7f-136">在 Azure 门户中指定虚拟网络的设置时，请指定前面创建的资源组的名称。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-136">When you specify the settings for the virtual network in the Azure portal, specify the name of the resource group created above.</span></span>

<span data-ttu-id="2ae7f-137">下一步是确定是否部署单个 Windows 或 Linux VM。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-137">The next step is to decide whether to deploy a single Windows or Linux VM.</span></span> <span data-ttu-id="2ae7f-138">对于 Windows VM，请遵循相应的步骤，[使用门户将 Windows VM 部署到 Azure](/azure/virtual-machines/windows/quick-create-portal?toc=/azure/architecture/cloud-adoption-guide/toc.json)。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-138">For a Windows VM, follow the steps to [deploy a Windows VM to Azure with the portal](/azure/virtual-machines/windows/quick-create-portal?toc=/azure/architecture/cloud-adoption-guide/toc.json).</span></span> <span data-ttu-id="2ae7f-139">同样，在 Azure 门户中指定虚拟机的设置时，请指定前面创建的资源组的名称。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-139">Again, when you specify the settings for the virtual machine in the Azure portal, specify the name of the resource group created above.</span></span>

<span data-ttu-id="2ae7f-140">遵循这些步骤并部署 VM 后，可以了解[有关在 Azure 上运行 Windows VM 的成熟做法](/azure/architecture/reference-architectures/virtual-machines-windows/single-vm?toc=/azure/architecture/cloud-adoption-guide/toc.json)。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-140">Once you've followed the steps and deployed the VM, you can learn about [proven practices for running a Windows VM on Azure](/azure/architecture/reference-architectures/virtual-machines-windows/single-vm?toc=/azure/architecture/cloud-adoption-guide/toc.json).</span></span> <span data-ttu-id="2ae7f-141">对于 Linux VM，请遵循相应的步骤，[使用门户将 Linux VM 部署到 Azure](/azure/virtual-machines/linux/quick-create-portal?toc=/azure/architecture/cloud-adoption-guide/toc.json)。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-141">For a Linux VM, follow the steps to [deploy a Linux VM to Azure with the portal](/azure/virtual-machines/linux/quick-create-portal?toc=/azure/architecture/cloud-adoption-guide/toc.json).</span></span> <span data-ttu-id="2ae7f-142">还可以详细了解[有关在 Azure 上运行 Linux VM 的成熟做法](/azure/architecture/reference-architectures/virtual-machines-linux/single-vm?toc=/azure/architecture/cloud-adoption-guide/toc.json)。</span><span class="sxs-lookup"><span data-stu-id="2ae7f-142">You can also learn more about [proven practices for running a Linux VM on Azure](/azure/architecture/reference-architectures/virtual-machines-linux/single-vm?toc=/azure/architecture/cloud-adoption-guide/toc.json).</span></span>
