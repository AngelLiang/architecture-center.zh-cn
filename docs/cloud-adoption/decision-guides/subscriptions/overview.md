---
title: CAF：订阅决策指南
titleSuffix: Microsoft Cloud Adoption Framework for Azure
ms.service: architecture-center
ms.subservice: enterprise-cloud-adoption
ms.custom: governance
ms.date: 02/11/2019
description: 了解作为 Azure 迁移中核心服务的云平台订阅。
author: rotycenh
ms.openlocfilehash: c0781f6af25150d359395b1b80506dd0cfee8e3c
ms.sourcegitcommit: 273e690c0cfabbc3822089c7d8bc743ef41d2b6e
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/08/2019
ms.locfileid: "55900486"
---
# <a name="subscription-decision-guide"></a>订阅决策指南

所有云平台都基于核心所有权模型，用于为组织提供大量计费和资源管理选项。 Azure 采用的结构不同于其他云提供商，因为它提供各种关于组织层次结构和分组订阅所有权的支持选项。 无论如何，通常有一个人负责计费，并将另一个人指定为管理资源的顶级所有者。

![按复杂性从低到高的顺序绘制了订阅选项（与下面的跳转链接保持一致）](../../_images/discovery-guides/discovery-guide-subscriptions.png)

跳转到：[订阅设计和 Azure 企业协议](#subscriptions-design-and-azure-enterprise-agreements) | [订阅设计模式](#subscription-design-patterns) | [管理组](#management-groups) | [处于订阅级别的组织](#organization-at-the-subscription-level)

订阅设计是公司在云采用期间用来建立结构或整理资产的最常见策略之一。

**订阅层次结构**：订阅是 Azure 服务（如虚拟机、SQL DB、应用服务或容器）的逻辑集合。 Azure 中的所有资产都部署到单个订阅中。 然后，每个订阅都被一个帐户所拥有。 此帐户是跨订阅提供计费和管理访问权限的用户帐户（或最好是服务帐户）。 对于承诺通过企业协议 (EA) 使用特定量 Azure 的客户，就多出另一个控制级别，称为“部门”。 在 EA 门户中，订阅、帐户和部门可用于创建层次结构，以用于计费和管理目的。

订阅设计的复杂性各不相同。 设计策略决策有独特的拐点，因为它们通常同时涉及业务约束和 IT 约束。 制定技术决策前，IT 架构师和决策者应咨询业务利益干系人和云策略团队，以了解相应的云核算方法、业务部门内的成本核算做法，以及组织的全球市场需求。

**拐点**：上图中的虚线表示，订阅设计的简单模式和更复杂模式之间的拐点。 其他基于数字资产规模与 Azure 订阅限制、隔离和分离策略以及 IT 运营部门的技术决策点通常会对订阅设计产生重大影响。

**其他注意事项**：选择订阅设计时需要注意的一点是，订阅不是对资源或部署进行分组的唯一方法。 由于订阅是在 Azure 早期阶段提出，因此存在与旧 Azure 解决方案（如 Azure 服务管理器）相关的限制。

部署结构、自动化和新资源分组方法可能会影响结构订阅设计。 最终确定订阅设计前，请先考虑[资源一致性](../resource-consistency/overview.md)决策可能会对设计选择产生什么影响。 例如，大型跨国组织最初可能会考虑使用复杂的订阅管理模式。 不过，通过添加管理组层次结构，这家公司可使用更简单的业务部门模式实现更大权益。

## <a name="subscriptions-design-and-azure-enterprise-agreements"></a>订阅设计和 Azure 企业协议

所有 Azure 订阅都与一个帐户相关联，此帐户负责每个订阅的计费和顶级访问控制。 一个帐户可以拥有多个订阅，并能为组织提供基本级别的订阅。

对于小型 Azure 部署，单个订阅或小型订阅集合就可能构成整个云资产。 不过，大型 Azure 部署可能需要跨多个订阅，以支持组织结构，并规避[订阅配额和限制](/azure/azure-subscription-service-limits)。

每个 Azure 企业协议都提供了进一步的功能，即将订阅和帐户整理到反映组织优先级的层次结构中。 组织企业许可登记表从合同的角度规定了 Azure 服务在公司内的形式和用途。 在每个企业协议中，为了与组织结构保持一致，可以将环境进一步细分为部门、帐户和订阅。

![层次结构](../../_images/infra-subscriptions/agreement.png)

## <a name="subscription-design-patterns"></a>订阅设计模式

每个企业都不同。 因此，在整个 Azure 企业协议中启用的部门/帐户/订阅层次结构，可以显著提高 Azure 资产整理方式的灵活性。 开始使用公有云时，首要和最重要的决策是，对组织的层次结构进行建模，以反映公司在计费、资源管理和资源访问方面的需求。

为了支持可能的组织优先级，以下订阅模式的订阅设计复杂性一般会上升：

### <a name="single-subscription"></a>一个订阅

对于需要部署少量云托管资产的组织，每帐户单个订阅可能就足够了。 这通常是在开始云采用流程时实现的第一个订阅模式，因为它可便于实现小规模试验部署或概念证明部署，从而探索云平台的功能。

不过，单个订阅支持的资源数量存在技术限制。 随着云资产规模增长，建议支持采用无法与单个订阅配合使用的方式来整理资源，以更好地整理策略和访问控制。

### <a name="application-category-pattern"></a>应用程序类别模式

随着组织的云占用情况上升，使用多个订阅的可能性也相应增加。 在此方案中，通常会创建订阅来支持在业务关键性、合规性要求、访问控制或数据保护需求方面存在根本差异的应用程序。 支持这些应用程序类别的订阅和帐户全都被整理到一个部门下，此部门由中央 IT 运营人员拥有和管理。

每个组织都会选择以不同方式对应用程序进行分类，通常会根据特定应用程序或服务，或者按照应用程序原型来分隔订阅。 能证明将单独的订阅归于此模式下是合理的工作负载包括：

- 实验性应用程序或低风险应用程序
- 包含受保护数据的应用程序
- 任务关键工作负载
- 符合法规要求（如 HIPAA 或 FedRAMP）的应用程序
- 批处理工作负载
- 大数据工作负载（如 Hadoop）
- 使用部署业务流程协调程序（如 Kubernetes）的容器化工作负载
- 分析工作负载

此模式支持多个帐户所有者负责具体工作负载。 因为在企业协议层次结构的部门级别缺少更复杂的结构，所以此模式不需要实现 Azure 企业协议。

![应用程序类别模式](../../_images/infra-subscriptions/application.png)

### <a name="functional-pattern"></a>职能模式

此模式使用提供给 Azure 企业协议客户的企业/部门/帐户/订阅层次结构，按照职能（如财务、销售或 IT 支持）整理订阅和帐户。

![职能模式](../../_images/infra-subscriptions/functional.png)

### <a name="business-unit-pattern"></a>业务部门模式

此模式使用 Azure 企业协议层次结构，根据损益类别、业务部门、部门、利润中心或类似业务结构对订阅和帐户进行分组。

![业务部门模式](../../_images/infra-subscriptions/business.png)

### <a name="geographic-pattern"></a>地理模式

对于在全球运营的组织，此模式使用 Azure 企业协议层次结构，根据地理区域对订阅和帐户进行分组。

![地理模式](../../_images/infra-subscriptions/geographic.png)

### <a name="mixed-patterns"></a>混合模式

企业/部门/帐户/订阅层次结构。 不过，可以将地理区域模式和业务部门模式等组合起来，以反映公司内更复杂的计费和组织结构。 此外，[资源一致性设计](../resource-consistency/overview.md)还可以进一步扩展订阅设计的治理和组织结构。

如下一部分所述，管理组可有助于支持更复杂的组织结构。

下一部分中介绍的管理组可有助于支持更复杂的组织结构。

## <a name="management-groups"></a>管理组

除了通过企业协议提供的部门和组织结构之外，[Azure 管理组](/azure/governance/management-groups/index)还为跨多个订阅整理策略、访问控制和合规性要求提供了更多灵活性。 最多可以将管理组嵌套六个级别，这样就能创建与计费层次结构相互独立的层次结构。 这完全是为了高效管理资源。

管理组可反映出计费层次结构，企业通常是这样起步的。 不过，管理组的强大功能在于，如果相关订阅（无论位于计费层次结构中的何处）被组合在一起，且需要与策略和计划一起分配的常见角色，可使用管理组为组织建模。

示例包括：

- 生产/非生产：某些企业创建管理组来识别其生产和非生产订阅。 借助管理组，这些客户可以更轻松地管理角色和策略，例如：非生产订阅可能允许开发人员“参与者”访问权限，但在生产中，开发人员仅具有“读者”访问权限。
- 内部服务/外部服务：与生产/非生产很像，企业通常对内部服务与面向客户的外部服务有不同的要求、策略和角色。

## <a name="organization-at-the-subscription-level"></a>处于订阅级别的组织

确定部门和帐户（或管理组）时，主要需要决定如何细分 Azure 环境来与组织保持一致。 然而，订阅才是真正的工作所在，这些决策将会影响安全性、可伸缩性和计费。

请考虑以下模式作为导向：

- **应用程序/服务**：订阅代表应用程序或服务（应用程序组合）。

- **生命周期**：订阅代表服务生命周期，如生产或开发。

- **部门**：订阅代表组织中的部门。

前两种模式是最常用的模式，强烈建议使用这两种模式。 生命周期方法适用于大多数组织。 在这种情况下，一般建议先使用两个基本订阅（生产和非生产），再使用资源组进一步细分环境。

有关如何使用 Azure 订阅和资源组来分组和管理资源的一般说明，请参阅 ](../../getting-started/azure-resource-access.md)Azure 中的资源访问管理[。

## <a name="next-steps"></a>后续步骤

了解如何在云中使用标识服务进行访问控制和管理。

> [!div class="nextstepaction"]
> [标识](../identity/overview.md)
