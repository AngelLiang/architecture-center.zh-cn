---
title: CAF：资源一致性策略符合性进程
titleSuffix: Microsoft Cloud Adoption Framework for Azure
ms.service: architecture-center
ms.subservice: enterprise-cloud-adoption
ms.custom: governance
ms.date: 02/11/2019
description: 资源一致性策略符合性进程
author: BrianBlanchard
ms.openlocfilehash: 26c2d60635a98a3ce061352979ddf01426947e08
ms.sourcegitcommit: 273e690c0cfabbc3822089c7d8bc743ef41d2b6e
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/08/2019
ms.locfileid: "55900566"
---
# <a name="resource-consistency-policy-compliance-processes"></a><span data-ttu-id="d1209-103">资源一致性策略符合性进程</span><span class="sxs-lookup"><span data-stu-id="d1209-103">Resource Consistency policy compliance processes</span></span>

<span data-ttu-id="d1209-104">本文讨论了管理[资源一致性](./overview.md)的策略符合性流程的方法。</span><span class="sxs-lookup"><span data-stu-id="d1209-104">This article discusses an approach to policy adherence processes that govern [Resource Consistency](./overview.md).</span></span> <span data-ttu-id="d1209-105">有效的云资源一致性治理从定期手动流程着手，这些流程旨在识别效率低下的操作、改进部署资源的管理，并确保任务关键型工作负荷中断时间最少。</span><span class="sxs-lookup"><span data-stu-id="d1209-105">Effective cloud Resource Consistency governance starts with recurring manual processes designed to identify operational inefficiency, improve management of deployed resources, and ensure mission-critical workloads have minimal disruptions.</span></span> <span data-ttu-id="d1209-106">对这些手动流程辅以监视、自动化和调整，可帮助减少治理开销，并加快对偏离策略的响应。</span><span class="sxs-lookup"><span data-stu-id="d1209-106">These manual processes are supplemented with monitoring, automation, and tooling to help reduce the overhead of governance and allow for faster response to policy deviation.</span></span>

## <a name="planning-review-and-reporting-processes"></a><span data-ttu-id="d1209-107">计划、评审和报告流程</span><span class="sxs-lookup"><span data-stu-id="d1209-107">Planning, review, and reporting processes</span></span>

<span data-ttu-id="d1209-108">云平台提供了一系列管理工具和功能，可用于组织、预配、缩放以及尽量减少停机时间。</span><span class="sxs-lookup"><span data-stu-id="d1209-108">Cloud platforms provide an array of management tools and features that you can use to organize, provision, scale, and minimize downtime.</span></span> <span data-ttu-id="d1209-109">使用这些工具以缓解潜在风险的方式有效地组织和运营云部署，除了与 IT 运营团队和业务利益干系人密切合作外，还需要深思熟虑的流程和策略。</span><span class="sxs-lookup"><span data-stu-id="d1209-109">Using these tools to effectively structure and operate your cloud deployments in ways that mitigate potential risks requires well thought out processes and policies in addition to close cooperation with IT Operations teams and business stakeholders.</span></span>

<span data-ttu-id="d1209-110">以下是资源一致性规则中常常涉及的一组示例流程。</span><span class="sxs-lookup"><span data-stu-id="d1209-110">The following is a set of example processes commonly involved in the Resource Consistency discipline.</span></span> <span data-ttu-id="d1209-111">在规划流程时，先从这些示例入手就能根据业务变更以及开发和 IT 团队（负责将指南转化为行动）的反馈继续更新资源一致性策略。</span><span class="sxs-lookup"><span data-stu-id="d1209-111">Use these examples as a starting point when planning the processes that will allow you to continue to update Resource Consistency policy based on business change and feedback from the development and IT teams tasked with turning guidance into action.</span></span>

<span data-ttu-id="d1209-112">**初始风险评估和计划**：作为初始采用资源一致性规则的一部分，请确定与运营和 IT 管理相关的核心业务风险和容差。</span><span class="sxs-lookup"><span data-stu-id="d1209-112">**Initial risk assessment and planning**: As part of your initial adoption of the Resource Consistency discipline, identify your core business risks and tolerances related to operations and IT management.</span></span> <span data-ttu-id="d1209-113">利用这些信息，与 IT 团队成员以及工作负荷所有者讨论特定技术风险，并制定一组资源一致性策略基线，通过建立初始治理策略降低这些风险。</span><span class="sxs-lookup"><span data-stu-id="d1209-113">Use this information to discuss specific technical risks with members of your IT teams and workload owners to develop a baseline set of Resource Consistency policies designed to mitigate these risks, establishing your initial governance strategy.</span></span>

<span data-ttu-id="d1209-114">**部署计划**：请先评估，确定是否有任何新的运营风险，再部署任何资产。</span><span class="sxs-lookup"><span data-stu-id="d1209-114">**Deployment planning**: Prior to deployment of any asset, perform a review to identify any new operational risks.</span></span> <span data-ttu-id="d1209-115">建立资源需求和预期需求模式，并确定可伸缩性需求和潜在的使用情况优化机会。</span><span class="sxs-lookup"><span data-stu-id="d1209-115">Establish resource requirements and expected demand patterns, and identify scalability needs and potential usage optimization opportunities.</span></span> <span data-ttu-id="d1209-116">也请确保备份和恢复计划均已到位。</span><span class="sxs-lookup"><span data-stu-id="d1209-116">Also ensure backup and recovery plans are in place.</span></span>

<span data-ttu-id="d1209-117">**部署测试**：作为部署的一部分，云治理团队将与云运营团队合作，负责评审部署，以验证资源一致性策略的符合性。</span><span class="sxs-lookup"><span data-stu-id="d1209-117">**Deployment testing**: As part of deployment, the Cloud Governance team, in cooperation with your cloud operations teams, will be responsible for reviewing the deployment to validate Resource Consistency policy compliance.</span></span>

<span data-ttu-id="d1209-118">**年度计划**：每年对资源一致性策略进行高级别评审。</span><span class="sxs-lookup"><span data-stu-id="d1209-118">**Annual planning**: On an annual basis, perform a high-level review of Resource Consistency strategy.</span></span> <span data-ttu-id="d1209-119">探索未来企业扩张计划或其优先事项，更新云采用策略，以发现潜在风险的增加或其他新出现的资源一致性需求。</span><span class="sxs-lookup"><span data-stu-id="d1209-119">Explore future corporate expansion plans or priorities and update cloud adoption strategies to identify potential risk increase or other emerging Resource Consistency needs.</span></span> <span data-ttu-id="d1209-120">此外，还可以利用这段时间来评审最新的云资源一致性最佳做法，并将其集成到策略和评审流程中。</span><span class="sxs-lookup"><span data-stu-id="d1209-120">Also use this time to review the latest best practices for cloud Resource Consistency and integrate these into your policies and review processes.</span></span>

<span data-ttu-id="d1209-121">**季度评审和规划**：每季度对操作数据和事故报告进行评审，确定资源一致性策略所需的任何更改。</span><span class="sxs-lookup"><span data-stu-id="d1209-121">**Quarterly review and planning**: On a quarterly basis perform a review of operational data and incident reports to identify any changes required in Resource Consistency policy.</span></span> <span data-ttu-id="d1209-122">在此过程中，检查资源使用情况和性能的变化，确定需要增加或减少资源分配的资产，并识别任何可以弃用的工作负荷或资产。</span><span class="sxs-lookup"><span data-stu-id="d1209-122">As part of this process, review changes in resource usage and performance to identify assets that require increases or decreases in resource allocation, and identify any workloads or assets that are candidates for retirement.</span></span>

<span data-ttu-id="d1209-123">此规划流程也是评估云治理团队当前成员身份的好时机，了解与涉及资源一致性规则的新的或不断变化的策略和风险相关的知识差距。</span><span class="sxs-lookup"><span data-stu-id="d1209-123">This planning process is also a good time to evaluate the current membership of your Cloud Governance team for knowledge gaps related to new or evolving policy and risks related to Resource Consistency as a discipline.</span></span> <span data-ttu-id="d1209-124">邀请相关 IT 人员作为临时技术顾问或团队的固定成员参与评审和规划。</span><span class="sxs-lookup"><span data-stu-id="d1209-124">Invite relevant IT staff to participate in reviews and planning as either temporary technical advisors or permanent members of your team.</span></span>

<span data-ttu-id="d1209-125">**教育和培训**：每两个月提供一次培训课程，确保 IT 人员和开发人员了解最新的资源一致性策略要求和指南。</span><span class="sxs-lookup"><span data-stu-id="d1209-125">**Education and Training**: On a bi-monthly basis, offer training sessions to make sure IT staff and developers are up-to-date on the latest Resource Consistency policy requirements and guidance.</span></span> <span data-ttu-id="d1209-126">在此过程中，请评审并更新任何文档或其他培训资产，确保它们与最新的公司策略声明保持同步。</span><span class="sxs-lookup"><span data-stu-id="d1209-126">As part of this process review and update any documentation or other training assets to ensure they are in sync with the latest corporate policy statements.</span></span>

<span data-ttu-id="d1209-127">**月度审核和报告评审**：每月对所有云部署执行审核，确保其与资源一致性策略保持一致。</span><span class="sxs-lookup"><span data-stu-id="d1209-127">**Monthly audit and reporting reviews**: On a monthly basis, perform an audit on all cloud deployments to assure their continued alignment with Resource Consistency policy.</span></span> <span data-ttu-id="d1209-128">与 IT 员工一起评审相关的活动，并确定任何尚未作为持续监视和强制执行流程的一部分处理的符合性问题。</span><span class="sxs-lookup"><span data-stu-id="d1209-128">Review related activities with IT staff and identify any compliance issues not already handled as part of the ongoing monitoring and enforcement process.</span></span> <span data-ttu-id="d1209-129">此评审的结果是为云战略团队和每个云采用团队提供一份报告，以传达整体性能和策略的遵从情况。</span><span class="sxs-lookup"><span data-stu-id="d1209-129">The result of this review is a report for the Cloud Strategy team and each cloud adoption team to communicate overall performance and adherence to policy.</span></span> <span data-ttu-id="d1209-130">此外，也将存储本报告用于审核和法律目的。</span><span class="sxs-lookup"><span data-stu-id="d1209-130">The report is also stored for auditing and legal purposes.</span></span>

## <a name="ongoing-monitoring-processes"></a><span data-ttu-id="d1209-131">持续的监视流程</span><span class="sxs-lookup"><span data-stu-id="d1209-131">Ongoing monitoring processes</span></span>

<span data-ttu-id="d1209-132">确定资源一致性治理策略是否成功取决于对云基础结构当前和过去状态的可见性。</span><span class="sxs-lookup"><span data-stu-id="d1209-132">Determining if your Resource Consistency governance strategy is successful depends on visibility into the current and past state of your cloud infrastructure.</span></span> <span data-ttu-id="d1209-133">如果无法分析云环境运行状况和活动的相关指标和数据，则无法识别风险中的变化或检测风险容差违规的情况。</span><span class="sxs-lookup"><span data-stu-id="d1209-133">Without the ability to analyze the relevant metrics and data of your cloud environment's health and activity, you cannot identify changes in your risks or detect violations of your risk tolerances.</span></span> <span data-ttu-id="d1209-134">上述持续治理进程需要优质的数据，确保可以修改策略以优化云资源使用情况和提高云托管工作负荷的整体性能。</span><span class="sxs-lookup"><span data-stu-id="d1209-134">The ongoing governance processes discussed above require quality data to ensure policy can be modified to optimize your cloud resource usage and improve overall performance of cloud-hosted workloads.</span></span>

<span data-ttu-id="d1209-135">请确保 IT 团队为云基础结构实施了自动化监视系统，捕获评估风险所需的相关日志数据。</span><span class="sxs-lookup"><span data-stu-id="d1209-135">Ensure that your IT teams have implemented automated monitoring systems for your cloud infrastructure that capture the relevant logs data you need to evaluate risks.</span></span> <span data-ttu-id="d1209-136">积极主动地监视这些系统，确保及时发现并减少潜在的策略违规行为，并确保监视策略符合操作需求。</span><span class="sxs-lookup"><span data-stu-id="d1209-136">Be proactive in monitoring these systems to ensure prompt detection and mitigation of potential policy violation, and ensure your monitoring strategy is in line with your operational needs.</span></span>

## <a name="violation-triggers-and-enforcement-actions"></a><span data-ttu-id="d1209-137">违规触发器和强制执行操作</span><span class="sxs-lookup"><span data-stu-id="d1209-137">Violation triggers and enforcement actions</span></span>

<span data-ttu-id="d1209-138">由于资源一致性策略符合性可能导致严重的服务中断或重大成本超支风险，云治理团队应当能够洞察非符合性事件。</span><span class="sxs-lookup"><span data-stu-id="d1209-138">Because Resource Consistency policy compliance can lead to critical service disruption or significant cost overruns risks, the Cloud Governance team should have visibility into noncompliance incidents.</span></span> <span data-ttu-id="d1209-139">确保 IT 人员有明确的上报途径，以便将这些问题报告给最适合识别和验证策略问题是否得到缓解的治理团队成员。</span><span class="sxs-lookup"><span data-stu-id="d1209-139">Ensure IT staff have clear escalation paths for reporting these issues to the governance team members best suited to identify and verify that policy issues are mitigated.</span></span>  

<span data-ttu-id="d1209-140">检测到违规时，应尽快采取措施重新调整策略。</span><span class="sxs-lookup"><span data-stu-id="d1209-140">When violations are detected, you should take actions to realign with policy as soon as possible.</span></span> <span data-ttu-id="d1209-141">IT 团队可以使用[适用于 Azure 的资源一致性工具链](toolchain.md)中概述的工具自动执行大多数违规触发器。</span><span class="sxs-lookup"><span data-stu-id="d1209-141">Your IT team can automate most violation triggers using the tools outlined in the [Resource Consistency toolchain for Azure](toolchain.md).</span></span>

<span data-ttu-id="d1209-142">以下触发器和强制执行操作提供了在规划如何使用监控数据来解决策略违规时可以参考的示例：</span><span class="sxs-lookup"><span data-stu-id="d1209-142">The following triggers and enforcement actions provide examples you can reference when planning how to use monitoring data to resolve policy violations:</span></span>

- <span data-ttu-id="d1209-143">检测到预配过度的资源：对于 CPU 或内存容量使用率不足 60% 的资源，应自动减少或取消设置以降低成本。</span><span class="sxs-lookup"><span data-stu-id="d1209-143">Overprovisioned resource detected: Resources detected using less than 60% of CPU or memory capacity should automatically scale down or deprovisioning resources to reduce costs.</span></span>
- <span data-ttu-id="d1209-144">检测到预配不足的资源：对于 CPU 或内存容量使用率超过 80% 的资源，应自动纵向扩展或预配以提供额外的容量。</span><span class="sxs-lookup"><span data-stu-id="d1209-144">Underprovisioned resource detected: Resources detected using more than 80% of CPU or memory capacity should automatically scale up or provisioning additional resources to provide additional capacity.</span></span>
- <span data-ttu-id="d1209-145">未标记的资源的创建：系统会自动拒绝任何创建无所需 META 标记的资源的请求。</span><span class="sxs-lookup"><span data-stu-id="d1209-145">Untagged resource creation: Any request to create a resource without required meta tags will be rejected automatically.</span></span>
- <span data-ttu-id="d1209-146">检测到关键资源中断：检测到任何关键任务中断时都向 IT 人员发出通知。</span><span class="sxs-lookup"><span data-stu-id="d1209-146">Critical resource outage detected: IT staff are notified on all detected outages of mission-critical outages.</span></span> <span data-ttu-id="d1209-147">如果中断无法立即解决，员工会将问题上报并通知工作负荷所有者和云治理团队。</span><span class="sxs-lookup"><span data-stu-id="d1209-147">If outage is not immediately resolvable, staff will escalate the issue and notify workload owners and the Cloud Governance team.</span></span> <span data-ttu-id="d1209-148">如果需要修订策略以防未来发生某些事件，云治理团队将跟踪问题，直至问题解决并更新指南。</span><span class="sxs-lookup"><span data-stu-id="d1209-148">The Cloud Governance team will track the issue until resolution and update guidance if policy revision is necessary to prevent future incidents.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d1209-149">后续步骤</span><span class="sxs-lookup"><span data-stu-id="d1209-149">Next steps</span></span>

<span data-ttu-id="d1209-150">使用[云管理模板](./template.md)，记录与当前云采用计划保持一致的流程和触发器。</span><span class="sxs-lookup"><span data-stu-id="d1209-150">Using the [Cloud Management template](./template.md), document the processes and triggers that align to the current cloud adoption plan.</span></span>

<span data-ttu-id="d1209-151">有关根据采用计划执行云管理策略的指南，请参阅有关规则改进的文章。</span><span class="sxs-lookup"><span data-stu-id="d1209-151">For guidance on executing cloud management policies in alignment with adoption plans, see the article on discipline improvement.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="d1209-152">资源一致性规则改进</span><span class="sxs-lookup"><span data-stu-id="d1209-152">Resource Consistency discipline improvement</span></span>](./discipline-improvement.md)
