---
title: 大型企业 – 资源一致性演变
titleSuffix: Microsoft Cloud Adoption Framework for Azure
ms.service: architecture-center
ms.subservice: enterprise-cloud-adoption
ms.custom: governance
ms.date: 02/11/2019
description: 大型企业 – 资源一致性演变
author: BrianBlanchard
ms.openlocfilehash: 9fc6ca015310c02338463d3c8aa53ddfc74699df
ms.sourcegitcommit: 273e690c0cfabbc3822089c7d8bc743ef41d2b6e
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/08/2019
ms.locfileid: "55900535"
---
# <a name="large-enterprise-resource-consistency-evolution"></a>大型企业：资源一致性演变

本文通过为治理 MVP 增加资源一致性控件来支持任务关键型应用程序，从而对叙述进行了改进。

## <a name="evolution-of-the-narrative"></a>说明的演变

云采用团队已满足移动受保护数据的所有要求。 随着这些应用程序的出现，对业务的 SLA 承诺和对 IT 运营支持的需求也随之出现。 在迁移两个数据中心的团队背后，多个应用程序开发和 BI 团队准备开始将新的解决方案推向生产环境。 IT 运营是云运营概念中的新生事物，需要通过一种方式快速整合现有运营流程。

### <a name="evolution-of-current-state"></a>当前状态的演变

- IT 正在积极地将受保护数据的生产工作负载转移到 Azure 中。 许多低优先级工作负载正在为生产流量提供服务。 一旦 IT 运营部门准备好支持工作负载，就可以切换更多内容。
- 应用程序开发团队已准备好支持生产流量。
- BI 团队已准备好将预测和见解整合到为三个业务部门支持运营的系统中。

### <a name="evolution-of-the-future-state"></a>未来状态的演变

- IT 运营是云运营概念中的新生事物，需要通过一种方式快速整合现有运营流程。

当前状态和未来状态的变化带来需要新策略声明的新风险。

## <a name="evolution-of-tangible-risks"></a>有形风险的演变

业务中断：任何新的平台都存在着固有的风险，可导致任务关键型业务流程中断。 IT 运营团队和执行各种云采用的团队对云运营相对缺乏经验。 这就增加了中断的风险，必须加以缓解和治理。

该业务风险可以延伸为几种技术风险：

- 不一致的运营流程可能会导致无法快速检测或修复的中断。
- 外部入侵或拒绝服务攻击可能会导致业务中断
- 可能无法正确发现任务关键型资产，并因而可能无法正常运行。
- 现有的运营管理流程可能不支持未发现或标注错误的资产。
- 已部署资产的配置可能无法满足性能预期。
- 可能无法正确记录和集中管理日志记录，从而无法修复性能问题。
- 恢复策略可能会失败或花费的时间超过预期。
- 不一致的部署流程可能会导致安全漏洞，从而导致数据泄露或中断。
- 配置偏差或缺少修补程序可能会导致意外安全漏洞，从而导致数据泄露或中断。
- 配置可能不会强制执行已定义的 SLA 要求或已提交的恢复要求。
- 部署的操作系统或应用程序可能无法满足 OS 和应用程序强化要求。
- 由于多个团队在云中工作，因此会有不一致性的风险。

## <a name="evolution-of-the-policy-statements"></a>策略声明的演变

以下策略的变化将有助于缓解新的风险和指南如何实现。 清单内容看起来很多，但要采用这些策略并没有想象的那么困难。

1. 所有已部署的资产必须按照重要程度和数据分类来划分类别。 在部署到云之前，云治理团队和应用程序所有者将对分类进行审查。
2. 包含任务关键型应用程序的子网必须受到能够检测入侵和响应攻击的防火墙解决方案的保护。
3. 治理工具必须审核和强制执行安全基线团队定义的网络配置要求。
4. 治理工具必须确认将与任务关键型应用程序或受保护数据相关的所有资产均已纳入资源消耗和优化监视范围。
5. 治理工具必须确认为所有任务关键型应用程序或受保护数据收集适当级别的日志记录数据。
6. 治理流程必须确认任务关键型应用程序和受保护数据正确实现了备份、恢复和 SLA 遵从性。
7. 治理工具必须限定虚拟机只能部署已批准的映像。
8. 治理工具必须强制要求禁止对支持任务关键型应用程序的所有已部署资产自动更新。 必须同运维管理团队合作评审违反规定的情况，并按照运营策略予以纠正。 不自动更新的资产必须包含在归 IT 运维的流程中。
9. 治理工具必须验证与成本、关键性、SLA、应用程序和数据分类相关的标记。 所有值都必须与云治理团队管理的预定义值保持一致。
10. 治理流程必须包括部署时的审核和周期性审核，以确保所有资产的一致性。
11. 安全团队应定期检查可能影响云部署的趋势和攻击漏洞，以更新云中使用的安全基准工具。
12. 在发布到生产环境之前，必须将所有任务关键型应用程序和受保护数据添加到指定的运营监控解决方案中。 选定的 IT 运营工具无法发现的资产不能发布用于生产。 必须对相关部署流程进行必要的更改才能使资产可被发现，以确保在将来的部署中可以发现资产。
13. 发现后，运营管理团队将验证资产规模，从而验证资产是否符合性能要求。
14. 部署工具必须得到云治理团队的批准，以确保对部署的资产进行持续管理。
15. 必须在云治理团队可访问的中央存储库中维护部署脚本，以便进行定期检查和审核。
16. 治理评审流程必须验证已部署的资产是否已根据 SLA 和恢复需求进行了正确配置。

## <a name="evolution-of-the-best-practices"></a>最佳做法的演变

本文的这一部分将改进治理 MVP 设计，以包括新的 Azure 策略和 Azure 成本管理的实现。 这两项设计变更将共同实现新的企业策略声明。

根据这个虚构的示例，假定已经发生了受保护的数据演变。 基于此最佳做法，以下内容将增加运营监控要求，为任务关键型应用程序准备订阅。

**企业 IT 订阅**：将以下内容添加到作为中心的企业 IT 订阅中。

1. 作为外部依赖项，云运营团队需要定义运营监控工具、业务连续性/灾难恢复 (BCDR) 工具和自动修复工具。 然后，云治理团队可以支持必要的发现流程。
    1. 在此用例中，云运营团队选择了 Azure Monitor 作为监视任务关键型应用程序的主要工具。
    2. 团队还选择了 Azure Site Recovery 作为主要的 BCDR 工具。
2. Azure Site Recovery 实现
    1. 为备份和恢复过程定义和部署 Azure 保管库
    2. 创建 Azure 资源管理模板，以便在每个订阅中创建保管库
3. Azure Monitor 实现
    1. 确定任务关键型订阅后，可使用 PowerShell 创建日志分析工作区。 这是一个预先部署过程。

单个云采用订阅：以下内容将确保监控解决方案可以发现每个订阅，并准备好加入 BCDR 做法。

1. 任务关键型节点的 Azure Policy
    1. 仅审核并强制使用标准角色。
    2. 审核和强制应用程序加密所有存储帐户。
    3. 审核并强制每个网络接口使用已批准的网络子网和 VNet。
    4. 审核并强制实施用户定义路由表的限制。
    5. 审核并强制部署适用于 Windows 和 Linux 虚拟机的 Log Analytics 代理。
2. Azure 蓝图
    1. 创建名为 `mission-critical-workloads-and-protected-data` 的蓝图。 除受保护的数据蓝图外，此蓝图还将应用资产。
    2. 向蓝图添加新的 Azure 策略。
    3. 将蓝图应用于应能托管任务关键型应用程序的任何订阅。

## <a name="conclusion"></a>结束语

将这些流程和更改添加到治理 MVP，有助于缓解与资源治理相关联的许多风险。 它们共同增加了实现云感知运营必需的恢复、大小调整和监视控件。

## <a name="next-steps"></a>后续步骤

随着云采用的不断演进和业务附加值的提升，风险和云治理需求也在不断发展。 对于这一过程中的虚构公司来说，下一个触发器是部署到云上的资产超过 1,000 项，或者每月的开销超过 10,000 美元。 此时，云治理团队可增加“成本管理”控件。

> [!div class="nextstepaction"]
> [成本管理演变](./cost-management-evolution.md)